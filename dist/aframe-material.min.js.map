{"version":3,"sources":["webpack:///aframe-material.min.js","webpack:///webpack/bootstrap 05bcad5a83aecd472cd7","webpack:///./src/index.js","webpack:///./~/aframe-rounded/dist/aframe-rounded-component.min.js","webpack:///./src/keyboard/index.js","webpack:///./src/utils.js","webpack:///./src/keyboard/draw.js","webpack:///./src/keyboard/assets.js","webpack:///./src/keyboard/layouts.js","webpack:///./src/keyboard/config.js","webpack:///./src/keyboard/behaviors.js","webpack:///./src/core/event.js","webpack:///./src/keyboard/sfx.js","webpack:///./src/keyboard/Assets.js","webpack:///./src/input/index.js","webpack:///./src/switch/index.js","webpack:///./src/switch/assets.js","webpack:///./src/switch/sfx.js","webpack:///./src/form/index.js","webpack:///./src/radio/index.js","webpack:///./src/radio/assets.js","webpack:///./src/radio/sfx.js","webpack:///./src/checkbox/index.js","webpack:///./src/checkbox/assets.js","webpack:///./src/checkbox/sfx.js","webpack:///./src/button/index.js","webpack:///./src/button/assets.js","webpack:///./src/button/sfx.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","AFRAME","ASSETS_PATH","console","error","t","e","i","a","d","registerComponent","schema","enabled","default","width","type","height","radius","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","color","opacity","init","this","rounded","THREE","Mesh","draw","MeshPhongMaterial","Color","data","side","DoubleSide","updateOpacity","el","setObject3D","update","visible","geometry","material","transparent","tick","remove","object3D","o","u","r","s","moveTo","lineTo","quadraticCurveTo","Shape","ShapeBufferGeometry","pause","play","registerPrimitive","defaultComponents","mappings","top-left-radius","top-right-radius","bottom-left-radius","bottom-right-radius","Draw","Behaviors","SFX","Event","isOpen","physicalKeyboard","currentInput","that","numericalUI","mainUI","actionsUI","alphabeticalLayout","symbolsLayout","appendChild","numericalLayout","actionsLayout","show","showKeyboard","hide","hideKeyboard","open","openKeyboard","dismiss","dismissKeyboard","destroy","destroyKeyboard","inputEvent","bind","backspaceEvent","dismissEvent","keydownEvent","didFocusInputEvent","didBlurInputEvent","setAttribute","addEventListener","document","body","removeEventListener","appendString","detail","deleteLast","blur","preventDefault","stopPropagation","key","emit","length","keyboard","is-open","physical-keyboard","Utils","preloadAssets","assets_arr","assets","querySelector","already_exists","scene","createElement","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","item","value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","Array","from","children","stuff","err","return","asset_item","src","extend","b","hasOwnProperty","clone","original","isArray","slice","Object","create","getPrototypeOf","keys","getOwnPropertyNames","defineProperty","getOwnPropertyDescriptor","hasAttribute","props","getAttribute","traverse","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","querySelectorAll","text","getWidthFactor","wrapCount","widthFactor","components","currentFont","Assets","Layouts","Config","wrapper","KEYBOARD_COLOR","numerical","index_y","key_id","index_x","x","KEY_WIDTH","y","alphabetical","prev_was_space","SPACE_KEY_WIDTH","symbols","actions","val_y","ACTION_WIDTH","addKeyEvents","shadow_el","aframeKeyboardShadow","letter_el","SPACE_KEY_HEIGHT","icon_el","aframeKeyboardShift","shiftKey","aframeKeyboardGlobal","aframeKeyboardBackspace","circle_el","aframeKeyboardEnter","aframeKeyboardDismiss","aframeKeyboardShiftActive","aframeKeyboardKeyIn","aframeKeyboardKeyDown","KEY_COLOR_HIGHLIGHT","KEY_COLOR_ACTIVE","SPACEBAR_COLOR_ACTIVE","SPACEBAR_COLOR_HIGHLIGHT","position","log","z","set","parentNode","sceneEl","parent","removeChild","keyClick","keyDown","keyOut","keyIn","isShiftEnabled","toUpperCase","shiftToggle","isSymbols","symbolsToggle","keyEl","key_type","startsWith","textEl","toLowerCase","setTimeout","name","dispatchEvent","CustomEvent","sound","stopSound","playSound","disabled","align","font","letterSpacing","lineHeight","tabSize","placeholder","placeholderColor","maxLength","cursorWidth","cursorHeight","cursorColor","backgroundColor","backgroundOpacity","background","cursor","focus","blink","input","get","enumerable","configurable","isFocused","cursorInterval","setInterval","clearInterval","noemit","str","updateText","getTextWidth","trimFirst","_widthFactor","v","visibleGlyphs","line","substr","textRatio","padding","left","right","attr","cursorTimer","clearTimeout","substring","repeat","placeholder_props","updateCursor","letter-spacing","line-height","tab-size","placeholder-color","max-length","cursor-width","cursor-height","cursor-color","background-color","background-opacity","fillColor","knobColor","fillColorEnabled","knobColorEnabled","fillColorDisabled","knobColorDisabled","fill","knob","switch","clickDisabled","click","on","off","disable","fill-color","knob-color","fill-color-enabled","knob-color-enabled","fill-color-disabled","knob-color-disabled","form","checked","label","radioColor","radioColorChecked","hitbox","outline","circle","radio","onClick","nearestForm","closest","didCheck","reverse","child","check","uncheck","timer","radio-color","radio-color-checked","checkboxColor","checkboxColorChecked","inside","checkmark","checkbox","checkbox-color","checkbox-color-checked","buttonColor","shadow","button","getWidth","__width","callback","button-color"],"mappings":"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","file":"aframe-material.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t(function () {\n\t  if (!AFRAME) {\n\t    return console.error('AFRAME is required!');\n\t  }\n\t  if (!AFRAME.ASSETS_PATH) {\n\t    AFRAME.ASSETS_PATH = \"./assets\";\n\t  }\n\t  __webpack_require__(2);\n\t  __webpack_require__(3);\n\t  __webpack_require__(13);\n\t  __webpack_require__(14);\n\t  __webpack_require__(17);\n\t  __webpack_require__(18);\n\t  __webpack_require__(21);\n\t  __webpack_require__(24);\n\t})();\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t!function(t){function e(i){if(a[i])return a[i].exports;var d=a[i]={exports:{},id:i,loaded:!1};return t[i].call(d.exports,d,d.exports,e),d.loaded=!0,d.exports}var a={};return e.m=t,e.c=a,e.p=\"\",e(0)}([function(t,e){AFRAME.registerComponent(\"rounded\",{schema:{enabled:{default:!0},width:{type:\"number\",default:1},height:{type:\"number\",default:1},radius:{type:\"number\",default:.3},topLeftRadius:{type:\"number\",default:-1},topRightRadius:{type:\"number\",default:-1},bottomLeftRadius:{type:\"number\",default:-1},bottomRightRadius:{type:\"number\",default:-1},color:{type:\"color\",default:\"#F0F0F0\"},opacity:{type:\"number\",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D(\"mesh\",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){function t(t,e,a,i,d,o,u,r,s){o||(o=1e-5),u||(u=1e-5),r||(r=1e-5),s||(s=1e-5),t.moveTo(e,a+o),t.lineTo(e,a+d-o),t.quadraticCurveTo(e,a+d,e+o,a+d),t.lineTo(e+i-u,a+d),t.quadraticCurveTo(e+i,a+d,e+i,a+d-u),t.lineTo(e+i,a+s),t.quadraticCurveTo(e+i,a,e+i-s,a),t.lineTo(e+r,a),t.quadraticCurveTo(e,a,e,a+r)}var e=new THREE.Shape,a=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return this.data.topLeftRadius!=-1&&(a[0]=this.data.topLeftRadius),this.data.topRightRadius!=-1&&(a[1]=this.data.topRightRadius),this.data.bottomLeftRadius!=-1&&(a[2]=this.data.bottomLeftRadius),this.data.bottomRightRadius!=-1&&(a[3]=this.data.bottomRightRadius),t(e,0,0,this.data.width,this.data.height,a[0],a[1],a[2],a[3]),new THREE.ShapeBufferGeometry(e)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive(\"a-rounded\",{defaultComponents:{rounded:{}},mappings:{enabled:\"rounded.enabled\",width:\"rounded.width\",height:\"rounded.height\",radius:\"rounded.radius\",\"top-left-radius\":\"rounded.topLeftRadius\",\"top-right-radius\":\"rounded.topRightRadius\",\"bottom-left-radius\":\"rounded.bottomLeftRadius\",\"bottom-right-radius\":\"rounded.bottomRightRadius\",color:\"rounded.color\",opacity:\"rounded.opacity\"}})}]);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(4);\n\tvar Draw = __webpack_require__(5);\n\tvar Behaviors = __webpack_require__(9);\n\tvar SFX = __webpack_require__(11);\n\tvar Event = __webpack_require__(10);\n\t\n\tAFRAME.registerComponent('keyboard', {\n\t  schema: {\n\t    isOpen: { type: \"boolean\", default: false },\n\t    physicalKeyboard: { type: \"boolean\", default: false }\n\t  },\n\t  currentInput: null,\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // SFX\n\t    SFX.init(this.el);\n\t\n\t    // Draw\n\t    Draw.init(this.el);\n\t\n\t    // Init keyboard UI\n\t    var numericalUI = Draw.numericalUI(),\n\t        mainUI = Draw.mainUI(),\n\t        actionsUI = Draw.actionsUI();\n\t\n\t    // Create layout\n\t    this.el.alphabeticalLayout = Draw.alphabeticalLayout();\n\t    this.el.symbolsLayout = Draw.symbolsLayout();\n\t\n\t    // Append layouts to UI\n\t    numericalUI.appendChild(Draw.numericalLayout());\n\t    mainUI.appendChild(this.el.alphabeticalLayout);\n\t    actionsUI.appendChild(Draw.actionsLayout());\n\t\n\t    this.el.appendChild(numericalUI);\n\t    this.el.appendChild(mainUI);\n\t    this.el.appendChild(actionsUI);\n\t\n\t    // Inject methods in elements..\n\t    this.el.show = function () {\n\t      Behaviors.showKeyboard(that.el);\n\t    };\n\t    this.el.hide = function () {\n\t      Behaviors.hideKeyboard(that.el);\n\t    };\n\t    this.el.open = function () {\n\t      Behaviors.openKeyboard(that.el);\n\t    };\n\t    this.el.dismiss = function () {\n\t      Behaviors.dismissKeyboard(that.el);\n\t    };\n\t    this.el.destroy = function () {\n\t      Behaviors.destroyKeyboard(that.el);\n\t    };\n\t\n\t    // Bind event handlers\n\t    this.inputEvent = this.inputEvent.bind(this);\n\t    this.backspaceEvent = this.backspaceEvent.bind(this);\n\t    this.dismissEvent = this.dismissEvent.bind(this);\n\t    this.keydownEvent = this.keydownEvent.bind(this);\n\t    this.didFocusInputEvent = this.didFocusInputEvent.bind(this);\n\t    this.didBlurInputEvent = this.didBlurInputEvent.bind(this);\n\t\n\t    // Set default value\n\t    this.el.setAttribute(\"scale\", \"2 2 2\");\n\t    this.el.setAttribute(\"rotation\", \"-20 0 0\");\n\t    this.el.setAttribute(\"position\", \"-1.5 -0.3 -2\");\n\t\n\t    // Register keyboard events\n\t    this.el.addEventListener('input', this.inputEvent);\n\t    this.el.addEventListener('backspace', this.backspaceEvent);\n\t    this.el.addEventListener('dismiss', this.dismissEvent);\n\t\n\t    // Register global events\n\t    document.addEventListener('keydown', this.keydownEvent);\n\t    document.body.addEventListener('didfocusinput', this.didFocusInputEvent);\n\t    document.body.addEventListener('didblurinput', this.didBlurInputEvent);\n\t  },\n\t  update: function update() {\n\t    if (this.data.isOpen) {\n\t      Behaviors.showKeyboard(this.el);\n\t    } else {\n\t      Behaviors.hideKeyboard(this.el);\n\t    }\n\t  },\n\t  tick: function tick() {},\n\t  remove: function remove() {\n\t    this.el.removeEventListener('input', this.inputEvent);\n\t    this.el.removeEventListener('backspace', this.backspaceEvent);\n\t    this.el.removeEventListener('dismiss', this.dismissEvent);\n\t\n\t    document.removeEventListener('keydown', this.keydownEvent);\n\t    document.body.removeEventListener('didfocusinput', this.didFocusInputEvent);\n\t    document.body.removeEventListener('didblurinput', this.didBlurInputEvent);\n\t  },\n\t\n\t  // Fired on keyboard key press\n\t  inputEvent: function inputEvent(e) {\n\t    if (this.currentInput) {\n\t      this.currentInput.appendString(e.detail);\n\t    }\n\t  },\n\t\n\t  // Fired on backspace key press\n\t  backspaceEvent: function backspaceEvent(e) {\n\t    if (this.currentInput) {\n\t      this.currentInput.deleteLast();\n\t    }\n\t  },\n\t\n\t  dismissEvent: function dismissEvent(e) {\n\t    if (this.currentInput) {\n\t      this.currentInput.blur();\n\t    }\n\t  },\n\t\n\t  // physical keyboard event\n\t  keydownEvent: function keydownEvent(e) {\n\t    if (this.currentInput && this.data.physicalKeyboard) {\n\t      e.preventDefault();\n\t      e.stopPropagation();\n\t\n\t      if (e.key === 'Enter') {\n\t        Event.emit(Behaviors.el, 'input', '\\n');\n\t        Event.emit(Behaviors.el, 'enter', '\\n');\n\t      } else if (e.key === 'Backspace') {\n\t        Event.emit(Behaviors.el, 'backspace');\n\t      } else if (e.key === 'Escape') {\n\t        Event.emit(Behaviors.el, 'dismiss');\n\t      } else if (e.key.length < 2) {\n\t        Event.emit(Behaviors.el, 'input', e.key);\n\t      }\n\t    }\n\t  },\n\t\n\t  // Fired when an input has been selected\n\t  didFocusInputEvent: function didFocusInputEvent(e) {\n\t    if (this.currentInput) this.currentInput.blur(true);\n\t    this.currentInput = e.detail;\n\t    if (!this.el.isOpen) Behaviors.openKeyboard(this.el);\n\t  },\n\t\n\t  // Fired when an input has been deselected\n\t  didBlurInputEvent: function didBlurInputEvent(e) {\n\t    this.currentInput = null;\n\t    Behaviors.dismissKeyboard(this.el);\n\t  }\n\t});\n\t\n\tAFRAME.registerPrimitive('a-keyboard', {\n\t  defaultComponents: {\n\t    keyboard: {}\n\t  },\n\t  mappings: {\n\t    'is-open': 'keyboard.isOpen',\n\t    'physical-keyboard': 'keyboard.physicalKeyboard'\n\t  }\n\t});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar Utils = {};\n\t\n\t/**\n\t  Utils.preloadAssets([])\n\t  Add assets to Assets managment system.\n\t*/\n\tUtils.preloadAssets = function (assets_arr) {\n\t  var assets = document.querySelector('a-assets'),\n\t      already_exists = void 0;\n\t\n\t  if (!assets) {\n\t    var scene = document.querySelector('a-scene');\n\t    assets = document.createElement('a-assets');\n\t    scene.appendChild(assets);\n\t  }\n\t\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = assets_arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var item = _step.value;\n\t\n\t      already_exists = false;\n\t\n\t      /***** With Edge, assets.children is a HTMLCollection, not an Array! *****/\n\t      var _iteratorNormalCompletion2 = true;\n\t      var _didIteratorError2 = false;\n\t      var _iteratorError2 = undefined;\n\t\n\t      try {\n\t        for (var _iterator2 = Array.from(assets.children)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t          var stuff = _step2.value;\n\t\n\t          if (item.id === stuff.id) {\n\t            already_exists = true;\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError2 = true;\n\t        _iteratorError2 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t            _iterator2.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError2) {\n\t            throw _iteratorError2;\n\t          }\n\t        }\n\t      }\n\t\n\t      if (!already_exists) {\n\t        var asset_item = document.createElement(item.type);\n\t        asset_item.setAttribute('id', item.id);\n\t        asset_item.setAttribute('src', item.src);\n\t        assets.appendChild(asset_item);\n\t      }\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t  Utils.extend(a, b)\n\t  Assign object to other object.\n\t*/\n\tUtils.extend = function (a, b) {\n\t  for (var key in b) {\n\t    if (b.hasOwnProperty(key)) {\n\t      a[key] = b[key];\n\t    }\n\t  }\n\t  return a;\n\t};\n\t\n\tUtils.clone = function (original) {\n\t  if (Array.isArray(original)) {\n\t    return original.slice(0);\n\t  }\n\t\n\t  // First create an empty object with\n\t  // same prototype of our original source\n\t  var clone = Object.create(Object.getPrototypeOf(original));\n\t  var i = undefined;\n\t  var keys = Object.getOwnPropertyNames(original);\n\t  i = 0;\n\t  while (i < keys.length) {\n\t    // copy each property into the clone\n\t    Object.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\n\t    i++;\n\t  }\n\t  return clone;\n\t};\n\t\n\tUtils.updateOpacity = function (el, opacity) {\n\t  if (el.hasAttribute('text')) {\n\t    var props = el.getAttribute('text');\n\t    if (props) {\n\t      props.opacity = opacity;\n\t      el.setAttribute('text', props);\n\t    }\n\t  }\n\t  el.object3D.traverse(function (o) {\n\t    if (o.material) {\n\t      o.material.transparent = true;\n\t      o.material.opacity = opacity;\n\t    }\n\t  });\n\t  var _iteratorNormalCompletion3 = true;\n\t  var _didIteratorError3 = false;\n\t  var _iteratorError3 = undefined;\n\t\n\t  try {\n\t    for (var _iterator3 = el.querySelectorAll('a-text')[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t      var text = _step3.value;\n\t\n\t      text.setAttribute('opacity', opacity);\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError3 = true;\n\t    _iteratorError3 = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t        _iterator3.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError3) {\n\t        throw _iteratorError3;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t// Calculate the width factor\n\tUtils.getWidthFactor = function (el, wrapCount) {\n\t  var widthFactor = 0.00001;\n\t  if (el.components.text && el.components.text.currentFont) {\n\t    widthFactor = el.components.text.currentFont.widthFactor;\n\t    widthFactor = (0.5 + wrapCount) * widthFactor;\n\t  }\n\t  return widthFactor;\n\t};\n\t\n\tmodule.exports = Utils;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Assets = __webpack_require__(6);\n\tvar Layouts = __webpack_require__(7);\n\tvar Config = __webpack_require__(8);\n\tvar Behaviors = __webpack_require__(9);\n\tvar Draw = {};\n\t\n\tDraw.el = null;\n\t\n\tDraw.init = function (el) {\n\t  Draw.el = el;\n\t  Behaviors.el = el;\n\t  Behaviors.SFX = el.SFX;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW NUMERICAL UI\n\t\n\tDraw.numericalUI = function () {\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.025 0 0.12');\n\t  wrapper.setAttribute('rotation', '0 25 0');\n\t  wrapper.setAttribute('data-ui', true);\n\t\n\t  var el = document.createElement('a-rounded');\n\t  el.setAttribute('width', '0.280');\n\t  el.setAttribute('height', '0.360');\n\t  el.setAttribute('radius', '0.02');\n\t  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\t  wrapper.appendChild(el);\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW MAIN UI\n\t\n\tDraw.mainUI = function () {\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.312 0 0');\n\t  wrapper.setAttribute('data-ui', true);\n\t\n\t  var el = document.createElement('a-rounded');\n\t  el.setAttribute('width', '0.840');\n\t  el.setAttribute('height', '0.360');\n\t  el.setAttribute('radius', '0.02');\n\t  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\t  wrapper.appendChild(el);\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW ACTION UI\n\t\n\tDraw.actionsUI = function () {\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '1.180 0 0.01');\n\t  wrapper.setAttribute('rotation', '0 -25 0');\n\t  wrapper.setAttribute('data-ui', true);\n\t\n\t  var el = document.createElement('a-rounded');\n\t  el.setAttribute('width', '0.180');\n\t  el.setAttribute('height', '0.360');\n\t  el.setAttribute('radius', '0.02');\n\t  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\t  wrapper.appendChild(el);\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW NUMERICAL LAYOUT\n\t\n\tDraw.numericalLayout = function () {\n\t  var data = Layouts.numerical;\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\t\n\t  var index_y = 0;\n\t  for (var i in data) {\n\t    var key_id = 'num-' + i;\n\t    var key = Draw.key(key_id, data[i].type, data[i].value);\n\t    var index_x = i % 3;\n\t    var x = Config.KEY_WIDTH * index_x;\n\t    var y = Config.KEY_WIDTH * index_y;\n\t    key.setAttribute('position', x + ' -' + y + ' 0');\n\t    if (index_x === 2) {\n\t      index_y++;\n\t    }\n\t    wrapper.appendChild(key);\n\t  }\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW ALPHABETICAL LAYOUT\n\t\n\tDraw.alphabeticalLayout = function () {\n\t  var data = Layouts.alphabetical;\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\t\n\t  var index_y = 0,\n\t      index_x = 0,\n\t      prev_was_space = false;\n\t\n\t  for (var i in data) {\n\t    var key_id = 'main-' + i;\n\t    var key = Draw.key(key_id, data[i].type, data[i].value);\n\t\n\t    var x = Config.KEY_WIDTH * index_x;\n\t    var y = Config.KEY_WIDTH * index_y;\n\t\n\t    // Add left padding on the second line\n\t    if (index_y === 1) {\n\t      x = x + Config.KEY_WIDTH / 2;\n\t    }\n\t\n\t    // Add margin on the key next to the spacebar key\n\t    if (prev_was_space) {\n\t      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + 0.055 * 2;\n\t    }\n\t\n\t    // Add margin to the spacebar key\n\t    if (data[i].type === 'spacebar') {\n\t      prev_was_space = true;\n\t      x = x + 0.055;\n\t      y = Config.KEY_WIDTH * index_y - 0.01;\n\t    }\n\t\n\t    key.setAttribute('position', x + ' -' + y + ' 0');\n\t\n\t    if (index_y === 1 && index_x === 8) {\n\t      index_x = -1;\n\t      index_y++;\n\t    } else if (index_x === 9) {\n\t      index_x = -1;\n\t      index_y++;\n\t    }\n\t    index_x++;\n\t\n\t    wrapper.appendChild(key);\n\t  }\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW SYMBOLS LAYOUT\n\t\n\tDraw.symbolsLayout = function () {\n\t  var data = Layouts.symbols;\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\t\n\t  var index_y = 0,\n\t      index_x = 0,\n\t      prev_was_space = false;\n\t\n\t  for (var i in data) {\n\t\n\t    var key_id = 'symbols-' + i;\n\t    var key = Draw.key(key_id, data[i].type, data[i].value);\n\t    var x = Config.KEY_WIDTH * index_x;\n\t    var y = Config.KEY_WIDTH * index_y;\n\t\n\t    // Add margin on the key next to the spacebar key\n\t    if (prev_was_space) {\n\t      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + 0.055 * 2;\n\t    }\n\t\n\t    // Add margin to the spacebar key\n\t    if (data[i].type === 'spacebar') {\n\t      prev_was_space = true;\n\t      x = x + 0.055;\n\t      y = Config.KEY_WIDTH * index_y - 0.01;\n\t    }\n\t\n\t    key.setAttribute('position', x + ' -' + y + ' 0');\n\t\n\t    if (index_x === 9) {\n\t      index_x = -1;\n\t      index_y++;\n\t    }\n\t    index_x++;\n\t    wrapper.appendChild(key);\n\t  }\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW ACTIONS LAYOUT\n\t\n\tDraw.actionsLayout = function () {\n\t  var data = Layouts.actions;\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\t\n\t  var val_y = 0;\n\t  for (var i in data) {\n\t    var key_id = 'action-' + i;\n\t    var key = Draw.key(key_id, data[i].type, data[i].value);\n\t\n\t    key.setAttribute('position', '0 -' + val_y + ' 0');\n\t    if (i == 0) {\n\t      val_y += Config.ACTION_WIDTH + 0.01;\n\t    } else if (i == 1) {\n\t      val_y += Config.KEY_WIDTH + 0.01;\n\t    }\n\t    wrapper.appendChild(key);\n\t  }\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW KEY\n\t\n\tDraw.key = function (id, type, value) {\n\t  var that = undefined;\n\t\n\t  var el = document.createElement('a-rounded');\n\t  el.setAttribute('key-id', id);\n\t  el.setAttribute('width', Config.KEY_WIDTH);\n\t  el.setAttribute('height', Config.KEY_WIDTH);\n\t  el.setAttribute('radius', '0.008');\n\t  el.setAttribute('position', '0 0 0');\n\t  el.setAttribute('key-type', type);\n\t  el.setAttribute('key-value', value);\n\t  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // EVENTS\n\t\n\t  Behaviors.addKeyEvents(el);\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // SHADOW\n\t\n\t  el.shadow_el = document.createElement('a-image');\n\t  el.shadow_el.setAttribute('width', Config.KEY_WIDTH * 1.25);\n\t  el.shadow_el.setAttribute('height', Config.KEY_WIDTH * 1.25);\n\t  el.shadow_el.setAttribute('position', Config.KEY_WIDTH / 2 + ' ' + Config.KEY_WIDTH / 2 + ' -0.002');\n\t  el.shadow_el.setAttribute('src', Assets.aframeKeyboardShadow);\n\t  el.appendChild(el.shadow_el);\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // TEXT KEY\n\t\n\t  if (type === 'text' || type === 'spacebar' || type === 'symbol') {\n\t    var letter_el = document.createElement('a-text');\n\t    letter_el.setAttribute('value', value);\n\t    letter_el.setAttribute('color', '#dbddde');\n\t    letter_el.setAttribute('position', Config.KEY_WIDTH / 2 + ' ' + Config.KEY_WIDTH / 2 + ' 0.01');\n\t    letter_el.setAttribute('scale', '0.16 0.16 0.16');\n\t    letter_el.setAttribute('align', 'center');\n\t    letter_el.setAttribute('baseline', 'center');\n\t    el.appendChild(letter_el);\n\t  }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // SPACEBAR KEY\n\t\n\t  if (type === 'spacebar') {\n\t    el.setAttribute('width', Config.SPACE_KEY_WIDTH);\n\t    el.setAttribute('height', Config.SPACE_KEY_HEIGHT);\n\t    el.setAttribute('color', '#404b50');\n\t    el.shadow_el.setAttribute('width', Config.SPACE_KEY_WIDTH * 1.12);\n\t    el.shadow_el.setAttribute('height', Config.SPACE_KEY_HEIGHT * 1.2);\n\t    el.shadow_el.setAttribute('position', Config.SPACE_KEY_WIDTH / 2 + ' ' + Config.SPACE_KEY_HEIGHT / 2 + ' -0.02');\n\t    letter_el.setAttribute('color', '#adb1b3');\n\t    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n\t    letter_el.setAttribute('position', Config.SPACE_KEY_WIDTH / 2 + ' ' + Config.SPACE_KEY_HEIGHT / 2 + ' 0');\n\t  }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // SYMBOL KEY\n\t\n\t  else if (type === 'symbol') {\n\t      letter_el.setAttribute('scale', '0.12 0.12 0.12');\n\t    }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // ACTION KEY\n\t\n\t  if (type === 'backspace' || type === 'enter' || type === 'dismiss') {\n\t    el.setAttribute('width', Config.ACTION_WIDTH);\n\t    el.shadow_el.setAttribute('width', Config.ACTION_WIDTH * 1.25);\n\t    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH / 2 + ' ' + Config.KEY_WIDTH / 2 + ' -0.02');\n\t  }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // SHIFT KEY\n\t\n\t  if (type === 'shift') {\n\t    var icon_el = document.createElement('a-image');\n\t    icon_el.setAttribute('data-type', 'icon');\n\t    icon_el.setAttribute('width', '0.032');\n\t    icon_el.setAttribute('height', '0.032');\n\t    icon_el.setAttribute('position', '0.04 0.04 0.01');\n\t    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\n\t    el.appendChild(icon_el);\n\t    Draw.el.shiftKey = el;\n\t  }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // GLOBAL\n\t\n\t  else if (type === 'global') {\n\t      var icon_el = document.createElement('a-image');\n\t      icon_el.setAttribute('width', '0.032');\n\t      icon_el.setAttribute('height', '0.032');\n\t      icon_el.setAttribute('position', '0.04 0.04 0.01');\n\t      icon_el.setAttribute('src', Assets.aframeKeyboardGlobal);\n\t      el.appendChild(icon_el);\n\t    }\n\t\n\t    // ---------------------------------------------------------------------------\n\t    // BACKSPACE\n\t\n\t    else if (type === 'backspace') {\n\t        var icon_el = document.createElement('a-image');\n\t        icon_el.setAttribute('width', '0.046');\n\t        icon_el.setAttribute('height', '0.046');\n\t        icon_el.setAttribute('position', '0.07 0.04 0.01');\n\t        icon_el.setAttribute('src', Assets.aframeKeyboardBackspace);\n\t        el.appendChild(icon_el);\n\t      }\n\t\n\t      // ---------------------------------------------------------------------------\n\t      // ENTER\n\t\n\t      else if (type === 'enter') {\n\t          el.setAttribute('height', Config.ACTION_WIDTH);\n\t          el.shadow_el.setAttribute('height', Config.ACTION_WIDTH * 1.25);\n\t          el.shadow_el.setAttribute('position', Config.ACTION_WIDTH / 2 + ' ' + Config.ACTION_WIDTH / 2 + ' -0.02');\n\t\n\t          var circle_el = document.createElement('a-circle');\n\t          circle_el.setAttribute('color', '#4285f4');\n\t          circle_el.setAttribute('radius', 0.044);\n\t          circle_el.setAttribute('position', '0.07 0.07 0.01');\n\t          el.appendChild(circle_el);\n\t\n\t          var icon_el = document.createElement('a-image');\n\t          icon_el.setAttribute('width', '0.034');\n\t          icon_el.setAttribute('height', '0.034');\n\t          icon_el.setAttribute('position', '0.07 0.07 0.011');\n\t          icon_el.setAttribute('src', Assets.aframeKeyboardEnter);\n\t          el.appendChild(icon_el);\n\t        }\n\t\n\t        // ---------------------------------------------------------------------------\n\t        // DISMISS\n\t\n\t        else if (type === 'dismiss') {\n\t            var icon_el = document.createElement('a-image');\n\t            icon_el.setAttribute('width', '0.046');\n\t            icon_el.setAttribute('height', '0.046');\n\t            icon_el.setAttribute('position', '0.07 0.04 0.01');\n\t            icon_el.setAttribute('src', Assets.aframeKeyboardDismiss);\n\t            el.appendChild(icon_el);\n\t          }\n\t\n\t  return el;\n\t};\n\t\n\tmodule.exports = Draw;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t  aframeKeyboardShift: AFRAME.ASSETS_PATH + \"/images/ShiftIcon.png\",\n\t  aframeKeyboardShiftActive: AFRAME.ASSETS_PATH + \"/images/ShiftActiveIcon.png\",\n\t  aframeKeyboardGlobal: AFRAME.ASSETS_PATH + \"/images/GlobalIcon.png\",\n\t  aframeKeyboardBackspace: AFRAME.ASSETS_PATH + \"/images/BackspaceIcon.png\",\n\t  aframeKeyboardEnter: AFRAME.ASSETS_PATH + \"/images/EnterIcon.png\",\n\t  aframeKeyboardDismiss: AFRAME.ASSETS_PATH + \"/images/DismissIcon.png\",\n\t  aframeKeyboardShadow: AFRAME.ASSETS_PATH + \"/images/KeyShadow.png\",\n\t  aframeKeyboardKeyIn: AFRAME.ASSETS_PATH + \"/sounds/KeyIn.mp3\",\n\t  aframeKeyboardKeyDown: AFRAME.ASSETS_PATH + \"/sounds/KeyDown.mp3\"\n\t};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar Layouts = {\n\t  numerical: [{ type: 'text', value: '1' }, { type: 'text', value: '2' }, { type: 'text', value: '3' }, { type: 'text', value: '4' }, { type: 'text', value: '5' }, { type: 'text', value: '6' }, { type: 'text', value: '7' }, { type: 'text', value: '8' }, { type: 'text', value: '9' }, { type: 'text', value: '.' }, { type: 'text', value: '0' }, { type: 'text', value: '-' }],\n\t\n\t  alphabetical: [{ type: 'text', value: 'q' }, { type: 'text', value: 'w' }, { type: 'text', value: 'e' }, { type: 'text', value: 'r' }, { type: 'text', value: 't' }, { type: 'text', value: 'y' }, { type: 'text', value: 'u' }, { type: 'text', value: 'i' }, { type: 'text', value: 'o' }, { type: 'text', value: 'p' }, { type: 'text', value: 'a' }, { type: 'text', value: 's' }, { type: 'text', value: 'd' }, { type: 'text', value: 'f' }, { type: 'text', value: 'g' }, { type: 'text', value: 'h' }, { type: 'text', value: 'j' }, { type: 'text', value: 'k' }, { type: 'text', value: 'l' }, { type: 'shift' }, { type: 'text', value: 'z' }, { type: 'text', value: 'x' }, { type: 'text', value: 'c' }, { type: 'text', value: 'v' }, { type: 'text', value: 'b' }, { type: 'text', value: 'n' }, { type: 'text', value: 'm' }, { type: 'text', value: '!' }, { type: 'text', value: '?' }, { type: 'symbol', value: '#+=' }, { type: 'text', value: '@' }, { type: 'spacebar', value: '' }, { type: 'text', value: ',' }, { type: 'text', value: '.' }],\n\t\n\t  symbols: [{ type: 'text', value: '@' }, { type: 'text', value: '#' }, { type: 'text', value: '$' }, { type: 'text', value: '%' }, { type: 'text', value: '&' }, { type: 'text', value: '*' }, { type: 'text', value: '-' }, { type: 'text', value: '+' }, { type: 'text', value: '(' }, { type: 'text', value: ')' }, { type: 'text', value: '~' }, { type: 'text', value: '`' }, { type: 'text', value: '\"' }, { type: 'text', value: '\\'' }, { type: 'text', value: ':' }, { type: 'text', value: ';' }, { type: 'text', value: '_' }, { type: 'text', value: '=' }, { type: 'text', value: '\\\\' }, { type: 'text', value: '/' }, { type: 'text', value: '{' }, { type: 'text', value: '}' }, { type: 'text', value: '[' }, { type: 'text', value: ']' }, { type: 'text', value: '<' }, { type: 'text', value: '>' }, { type: 'text', value: '^' }, { type: 'text', value: '|' }, { type: 'text', value: '!' }, { type: 'text', value: '?' }, { type: 'symbol', value: 'ABC' }, { type: 'text', value: '@' }, { type: 'spacebar', value: '' }, { type: 'text', value: ',' }, { type: 'text', value: '.' }],\n\t\n\t  actions: [{ type: 'backspace', value: 'Del' }, { type: 'enter', value: 'OK' }, { type: 'dismiss', value: 'W' }]\n\t};\n\t\n\tmodule.exports = Layouts;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar Config = {\n\t  KEYBOARD_COLOR: \"#263238\",\n\t  KEY_COLOR_HIGHLIGHT: \"#29363c\",\n\t  KEY_COLOR_ACTIVE: \"#404b50\",\n\t  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\n\t  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\n\t  KEY_WIDTH: 0.08,\n\t  SPACE_KEY_WIDTH: 0.368,\n\t  SPACE_KEY_HEIGHT: 0.05,\n\t  ACTION_WIDTH: 0.140\n\t};\n\t\n\tmodule.exports = Config;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Assets = __webpack_require__(6);\n\tvar Config = __webpack_require__(8);\n\tvar Utils = __webpack_require__(4);\n\tvar Event = __webpack_require__(10);\n\tvar SFX = __webpack_require__(11);\n\tvar Behaviors = {};\n\t\n\tBehaviors.el = null;\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYBOARD METHODS\n\t\n\tBehaviors.showKeyboard = function (el) {\n\t  el.isOpen = true;\n\t  var p = el.object3D.position;\n\t  console.log('show keyboard position');\n\t  console.log(p.x);\n\t  console.log(p.y);\n\t  console.log(p.z);\n\t  if (p.x === -10000 && p.y === -10000 && p.z === -10000) {\n\t    el.object3D.position.set(0, 0, 0);\n\t  }\n\t  !el.parentNode && el.sceneEl.appendChild(el);\n\t};\n\t\n\tBehaviors.hideKeyboard = function (el) {\n\t  el.isOpen = false;\n\t  // TODO: Figure out a better way to hide stuff.\n\t  el.object3D.position.set(-10000, -10000, -10000);\n\t};\n\t\n\tBehaviors.destroyKeyboard = function (el) {\n\t  var parent = el.parentNode;\n\t  if (!parent) {\n\t    return;\n\t  }\n\t  parent && parent.removeChild(el);\n\t};\n\t\n\tBehaviors.openKeyboard = function (el) {\n\t  Behaviors.showKeyboard(el);\n\t  Event.emit(Behaviors.el, 'didopen');\n\t};\n\t\n\tBehaviors.dismissKeyboard = function (el) {\n\t  Behaviors.hideKeyboard(el);\n\t  Event.emit(Behaviors.el, 'diddismiss');\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEY EVENTS\n\t\n\tBehaviors.addKeyEvents = function (el) {\n\t  el.addEventListener('click', Behaviors.keyClick);\n\t  el.addEventListener('mousedown', Behaviors.keyDown);\n\t  el.addEventListener('mouseup', Behaviors.keyOut);\n\t  el.addEventListener('raycaster-intersected', Behaviors.keyIn);\n\t  el.addEventListener('raycaster-intersected-cleared', Behaviors.keyOut);\n\t  //triggerdown\n\t  // https://aframe.io/docs/0.6.0/components/hand-controls.html\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYCLICK\n\t\n\tBehaviors.keyClick = function () {\n\t  SFX.keyDown(Behaviors.el);\n\t\n\t  var type = this.getAttribute('key-type');\n\t  var value = this.getAttribute('key-value');\n\t\n\t  if (type === 'text' || type === 'spacebar') {\n\t    if (type === 'spacebar') {\n\t      value = ' ';\n\t    }\n\t    if (Behaviors.isShiftEnabled) {\n\t      value = value.toUpperCase();\n\t      Behaviors.shiftToggle();\n\t    } else if (Behaviors.isSymbols) {\n\t      Behaviors.symbolsToggle();\n\t    }\n\t    Event.emit(Behaviors.el, 'input', value);\n\t  } else if (type === 'shift') {\n\t    Behaviors.shiftToggle();\n\t  } else if (type === 'symbol') {\n\t    Behaviors.symbolsToggle();\n\t  } else if (type === 'backspace') {\n\t    Event.emit(Behaviors.el, 'backspace');\n\t  } else if (type === 'enter') {\n\t    Event.emit(Behaviors.el, 'input', '\\n');\n\t    Event.emit(Behaviors.el, 'enter', '\\n');\n\t  } else if (type === 'dismiss') {\n\t    Event.emit(Behaviors.el, 'dismiss');\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYDOWN\n\t\n\tBehaviors.keyDown = function () {\n\t  this.object3D.position.z = 0.003;\n\t  if (this.getAttribute('key-type') === 'spacebar') {\n\t    this.setAttribute('color', Config.SPACEBAR_COLOR_ACTIVE);\n\t  } else {\n\t    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYIN\n\t\n\tBehaviors.keyIn = function () {\n\t  if (this.object3D.children[2] && this.object3D.children[2].material && !this.object3D.children[2].material.opacity) {\n\t    return;\n\t  }\n\t  SFX.keyIn(Behaviors.el);\n\t  if (this.getAttribute('key-type') === 'spacebar') {\n\t    this.setAttribute('color', Config.SPACEBAR_COLOR_HIGHLIGHT);\n\t  } else {\n\t    this.setAttribute('color', Config.KEY_COLOR_HIGHLIGHT);\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYOUT\n\t\n\tBehaviors.keyOut = function () {\n\t  this.object3D.position.z = 0;\n\t  if (this.getAttribute('key-type') === 'spacebar') {\n\t    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n\t  } else {\n\t    this.setAttribute('color', Config.KEYBOARD_COLOR);\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// SHIFT\n\t\n\tBehaviors.isShiftEnabled = false;\n\tBehaviors.shiftToggle = function () {\n\t  Behaviors.isShiftEnabled = !Behaviors.isShiftEnabled;\n\t\n\t  var icon_el = Behaviors.el.shiftKey.querySelector('[data-type]');\n\t  if (Behaviors.isShiftEnabled) {\n\t    icon_el.setAttribute('src', Assets.aframeKeyboardShiftActive);\n\t  } else {\n\t    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\n\t  }\n\t\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = document.querySelectorAll(\"[key-id]\")[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var keyEl = _step.value;\n\t\n\t      var key_id = keyEl.getAttribute('key-id'),\n\t          key_type = keyEl.getAttribute('key-type');\n\t      if (key_id.startsWith('main-') && key_type === \"text\") {\n\t        var textEl = keyEl.querySelector('a-text');\n\t        if (textEl) {\n\t          var value = textEl.getAttribute('value').toLowerCase();\n\t          if (this.isShiftEnabled) {\n\t            value = value.toUpperCase();\n\t          }\n\t          textEl.setAttribute('value', value);\n\t        }\n\t      }\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// SYMBOLS\n\t\n\tBehaviors.isSymbols = false;\n\tBehaviors.symbolsToggle = function () {\n\t  Behaviors.isSymbols = !Behaviors.isSymbols;\n\t  if (!Behaviors.isSymbols) {\n\t    var parent = Behaviors.el.symbolsLayout.parentNode;\n\t    parent.removeChild(Behaviors.el.symbolsLayout);\n\t    parent.appendChild(Behaviors.el.alphabeticalLayout);\n\t    setTimeout(function () {\n\t      Utils.updateOpacity(Behaviors.el.alphabeticalLayout, 1);\n\t    }, 0);\n\t  } else {\n\t    var _parent = Behaviors.el.alphabeticalLayout.parentNode;\n\t    _parent.removeChild(Behaviors.el.alphabeticalLayout);\n\t    _parent.appendChild(Behaviors.el.symbolsLayout);\n\t  }\n\t};\n\t\n\tmodule.exports = Behaviors;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t  emit: function emit(el, name, data) {\n\t    el.dispatchEvent(new CustomEvent(name, { detail: data }));\n\t  }\n\t};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Assets = __webpack_require__(12);\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeKeyboardKeyInSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', Assets.aframeKeyboardKeyIn);\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeKeyboardKeyDownSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', Assets.aframeKeyboardKeyDown);\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  keyIn: function keyIn(parent) {\n\t    var el = parent.querySelector('[key=aframeKeyboardKeyInSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  keyDown: function keyDown(parent) {\n\t    var el = parent.querySelector('[key=aframeKeyboardKeyDownSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t  aframeKeyboardShift: AFRAME.ASSETS_PATH + \"/images/ShiftIcon.png\",\n\t  aframeKeyboardShiftActive: AFRAME.ASSETS_PATH + \"/images/ShiftActiveIcon.png\",\n\t  aframeKeyboardGlobal: AFRAME.ASSETS_PATH + \"/images/GlobalIcon.png\",\n\t  aframeKeyboardBackspace: AFRAME.ASSETS_PATH + \"/images/BackspaceIcon.png\",\n\t  aframeKeyboardEnter: AFRAME.ASSETS_PATH + \"/images/EnterIcon.png\",\n\t  aframeKeyboardDismiss: AFRAME.ASSETS_PATH + \"/images/DismissIcon.png\",\n\t  aframeKeyboardShadow: AFRAME.ASSETS_PATH + \"/images/KeyShadow.png\",\n\t  aframeKeyboardKeyIn: AFRAME.ASSETS_PATH + \"/sounds/KeyIn.mp3\",\n\t  aframeKeyboardKeyDown: AFRAME.ASSETS_PATH + \"/sounds/KeyDown.mp3\"\n\t};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(4);\n\tvar Event = __webpack_require__(10);\n\t\n\t/*\n\t@BUG: Space has not effect when no letter comes after.\n\t@TODO: <progress value=\"70\" max=\"100\">70 %</progress>\n\t*/\n\t\n\tAFRAME.registerComponent('input', {\n\t  schema: {\n\t    value: { type: \"string\", default: \"\" },\n\t    name: { type: \"string\", default: \"\" },\n\t    disabled: { type: \"boolean\", default: false },\n\t    color: { type: \"color\", default: \"#000\" },\n\t    align: { type: \"string\", default: \"left\" },\n\t    font: { type: \"string\", default: \"\" },\n\t    letterSpacing: { type: \"int\", default: 0 },\n\t    lineHeight: { type: \"string\", default: \"\" },\n\t    opacity: { type: \"number\", default: 1 },\n\t    side: { type: \"string\", default: 'front' },\n\t    tabSize: { type: \"int\", default: 4 },\n\t    placeholder: { type: \"string\", default: \"\" },\n\t    placeholderColor: { type: \"color\", default: \"#AAA\" },\n\t    maxLength: { type: \"int\", default: 0 },\n\t    type: { type: \"string\", default: \"text\" },\n\t    width: { type: \"number\", default: 1 },\n\t    cursorWidth: { type: \"number\", default: 0.01 },\n\t    cursorHeight: { type: \"number\", default: 0.08 },\n\t    cursorColor: { type: \"color\", default: \"#007AFF\" },\n\t    backgroundColor: { type: \"color\", default: \"#FFF\" },\n\t    backgroundOpacity: { type: \"number\", default: 1 }\n\t  },\n\t\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    this.background = document.createElement('a-rounded');\n\t    this.background.setAttribute('radius', 0.01);\n\t    this.background.setAttribute('height', 0.18);\n\t    this.background.setAttribute('side', 'double');\n\t    this.el.appendChild(this.background);\n\t\n\t    this.cursor = document.createElement('a-plane');\n\t    this.cursor.setAttribute('position', '0 0 0.003');\n\t    this.cursor.setAttribute('visible', false);\n\t    this.el.appendChild(this.cursor);\n\t\n\t    this.text = document.createElement('a-entity');\n\t    this.el.appendChild(this.text);\n\t\n\t    this.placeholder = document.createElement('a-entity');\n\t    this.placeholder.setAttribute('visible', false);\n\t    this.el.appendChild(this.placeholder);\n\t\n\t    this.el.focus = this.focus.bind(this);\n\t    this.el.blur = this.blur.bind(this);\n\t    this.el.appendString = this.appendString.bind(this);\n\t    this.el.deleteLast = this.deleteLast.bind(this);\n\t\n\t    //setTimeout(function() { that.updateText(); }, 0);\n\t    this.blink();\n\t\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.input.data.disabled) {\n\t        return;\n\t      }\n\t      that.focus();\n\t    });\n\t\n\t    Object.defineProperty(this.el, 'value', {\n\t      get: function get() {\n\t        return this.getAttribute('value');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('value', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  blink: function blink() {\n\t    var that = this;\n\t    if (!this.isFocused) {\n\t      that.cursor.setAttribute('visible', false);\n\t      clearInterval(this.cursorInterval);\n\t      this.cursorInterval = null;\n\t      return;\n\t    }\n\t    this.cursorInterval = setInterval(function () {\n\t      that.cursor.setAttribute('visible', !that.cursor.getAttribute('visible'));\n\t    }, 500);\n\t  },\n\t  isFocused: false,\n\t  focus: function focus(noemit) {\n\t    if (this.isFocused) return;\n\t    this.isFocused = true;\n\t    this.cursor.setAttribute('visible', true);\n\t    this.blink();\n\t    Event.emit(this.el, 'focus');\n\t    if (!noemit) Event.emit(document.body, 'didfocusinput', this.el);\n\t  },\n\t  blur: function blur(noemit) {\n\t    if (!this.isFocused) {\n\t      return;\n\t    }\n\t    this.isFocused = false;\n\t    if (this.cursorInterval) {\n\t      clearInterval(this.cursorInterval);\n\t      this.cursorInterval = null;\n\t    }\n\t    this.cursor.setAttribute('visible', false);\n\t    Event.emit(this.el, 'blur');\n\t    if (!noemit) {\n\t      Event.emit(document.body, 'didblurinput', this.el);\n\t    }\n\t  },\n\t  appendString: function appendString(data) {\n\t    if (data === '\\n') {\n\t      return this.blur();\n\t    }\n\t    var str = this.el.getAttribute(\"value\");\n\t    if (!str) {\n\t      str = \"\";\n\t    }\n\t    str = str + data;\n\t    this.el.setAttribute(\"value\", str);\n\t    Event.emit(this.el, 'change', str);\n\t  },\n\t  deleteLast: function deleteLast() {\n\t    var str = this.el.getAttribute(\"value\");\n\t    if (!str) {\n\t      str = \"\";\n\t    }\n\t    str = str.slice(0, -1);\n\t    this.el.setAttribute(\"value\", str);\n\t    Event.emit(this.el, 'change', str);\n\t  },\n\t  updateText: function updateText() {\n\t    var that = this;\n\t    var padding = {\n\t      left: 0.021,\n\t      right: 0.021\n\t    };\n\t\n\t    var props = {\n\t      color: this.data.color,\n\t      align: this.data.align,\n\t      side: this.data.side,\n\t      tabSize: this.data.tabSize,\n\t      wrapCount: 24 * this.data.width,\n\t      width: this.data.width\n\t\n\t      // Make cursor stop blinking when typing..\n\t      // (and blinking again after typing stop).\n\t    };var attr = this.text.getAttribute(\"text\");\n\t    if (attr) {\n\t      if (this.data.value !== attr.value) {\n\t        if (this.cursorInterval) {\n\t          clearInterval(this.cursorInterval);\n\t          this.cursorInterval = null;\n\t        }\n\t        if (this.cursorTimer) {\n\t          clearTimeout(this.cursorTimer);\n\t          this.cursorTimer = null;\n\t        }\n\t        this.cursor.setAttribute('visible', true);\n\t        this.cursorTimer = setTimeout(function () {\n\t          that.blink();\n\t        }, 50);\n\t      }\n\t    }\n\t\n\t    // Max length\n\t    if (this.data.maxLength) {\n\t      props.value = this.data.value.substring(0, this.data.maxLength);\n\t      this.el.setAttribute('value', props.value);\n\t    } else {\n\t      props.value = this.data.value;\n\t    }\n\t\n\t    if (this.data.type === \"password\") {\n\t      props.value = \"*\".repeat(this.data.value.length);\n\t    }\n\t\n\t    if (this.data.font.length) {\n\t      props.font = this.data.font;\n\t    }\n\t    if (this.data.letterSpacing) {\n\t      props.letterSpacing = this.data.letterSpacing;\n\t    }\n\t    if (this.data.lineHeight.length) {\n\t      props.lineHeight = this.data.lineHeight;\n\t    }\n\t    this.text.setAttribute('visible', false);\n\t    this.text.setAttribute(\"text\", props);\n\t\n\t    function getTextWidth(el, data, trimFirst, _widthFactor) {\n\t      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n\t        return 0;\n\t      }\n\t      var v = el.object3D.children[0].geometry.visibleGlyphs;\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      v = v[v.length - 1];\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      if (v.line) {\n\t        if (trimFirst) {\n\t          data.value = data.value.substr(1);\n\t        } else {\n\t          data.value = data.value.slice(0, -1);\n\t        }\n\t        el.setAttribute(\"text\", data);\n\t        return getTextWidth(el, data, trimFirst);\n\t      } else {\n\t        if (!_widthFactor) {\n\t          _widthFactor = Utils.getWidthFactor(el, data.wrapCount);\n\t        }\n\t        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n\t        var textRatio = (v + padding.left + padding.right) / that.data.width;\n\t\n\t        if (textRatio > 1) {\n\t          if (trimFirst) {\n\t            data.value = data.value.substr(1);\n\t          } else {\n\t            data.value = data.value.slice(0, -1);\n\t          }\n\t          el.setAttribute(\"text\", data);\n\t          return getTextWidth(el, data, trimFirst, _widthFactor);\n\t        }\n\t      }\n\t      return v;\n\t    }\n\t\n\t    if (props.value.length) {\n\t      this.placeholder.setAttribute('visible', false);\n\t    } else {\n\t      this.placeholder.setAttribute('visible', true);\n\t    }\n\t\n\t    var placeholder_props = Utils.clone(props);\n\t    placeholder_props.value = this.data.placeholder;\n\t    placeholder_props.color = this.data.placeholderColor;\n\t    this.placeholder.setAttribute(\"text\", placeholder_props);\n\t\n\t    setTimeout(function () {\n\t      if (that.text.object3D) {\n\t        var children = that.text.object3D.children;\n\t        if (children[0] && children[0].geometry && children[0].geometry.visibleGlyphs) {\n\t          var v = 0;\n\t          if (children[0].geometry.visibleGlyphs.length) {\n\t            v = getTextWidth(that.text, props, true);\n\t            that.text.setAttribute('visible', true);\n\t          }\n\t          that.cursor.setAttribute('position', v + padding.left + ' 0 0.003');\n\t        } else {\n\t          that.cursor.setAttribute('position', padding.left + ' 0 0.003');\n\t        }\n\t      } else {\n\t        that.cursor.setAttribute('position', padding.left + ' 0 0.003');\n\t      }\n\t      getTextWidth(that.placeholder, placeholder_props);\n\t    }, 0);\n\t\n\t    this.background.setAttribute('color', this.data.backgroundColor);\n\t    /*if (this.data.backgroundOpacity) {\n\t      setTimeout(function() {\n\t        Utils.updateOpacity(that.background, that.data.backgroundOpacity);\n\t      }, 0);\n\t    }*/\n\t    this.background.setAttribute('width', this.data.width);\n\t    //this.background.setAttribute('position', this.data.width/2+' 0 0');\n\t    this.background.setAttribute('position', '0 -0.09 0.001');\n\t    this.text.setAttribute('position', padding.left - 0.001 + this.data.width / 2 + ' 0 0.002');\n\t    this.placeholder.setAttribute('position', padding.left - 0.001 + this.data.width / 2 + ' 0 0.002');\n\t  },\n\t  updateCursor: function updateCursor() {\n\t    this.cursor.setAttribute('width', this.data.cursorWidth);\n\t    this.cursor.setAttribute('height', this.data.cursorHeight);\n\t    this.cursor.setAttribute('color', this.data.cursorColor);\n\t  },\n\t  update: function update() {\n\t    var that = this;\n\t    setTimeout(function () {\n\t      //  Utils.updateOpacity(that.el, that.data.opacity);\n\t    }, 0);\n\t\n\t    this.updateCursor();\n\t    this.updateText();\n\t  }\n\t});\n\t\n\tAFRAME.registerPrimitive('a-input', {\n\t  defaultComponents: {\n\t    input: {}\n\t  },\n\t  mappings: {\n\t    value: 'input.value',\n\t    name: 'input.name',\n\t    disabled: 'input.disabled',\n\t    color: 'input.color',\n\t    align: 'input.align',\n\t    font: 'input.font',\n\t    'letter-spacing': 'input.letterSpacing',\n\t    'line-height': 'input.lineHeight',\n\t    'opacity': 'input.opacity',\n\t    'side': 'input.side',\n\t    'tab-size': 'input.tabSize',\n\t    placeholder: 'input.placeholder',\n\t    'placeholder-color': 'input.placeholderColor',\n\t    'max-length': 'input.maxLength',\n\t    type: 'input.type',\n\t    width: 'input.width',\n\t    'cursor-width': \"input.cursorWidth\",\n\t    'cursor-height': \"input.cursorHeight\",\n\t    'cursor-color': \"input.cursorColor\",\n\t    'background-color': 'input.backgroundColor',\n\t    'background-opacity': 'input.backgroundOpacity'\n\t  }\n\t});\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(4);\n\tvar Event = __webpack_require__(10);\n\tvar Assets = __webpack_require__(15);\n\tvar SFX = __webpack_require__(16);\n\t\n\tAFRAME.registerComponent('switch', {\n\t  schema: {\n\t    name: { type: \"string\", default: \"\" },\n\t    enabled: { type: 'boolean', default: false },\n\t    disabled: { type: 'boolean', default: false },\n\t    fillColor: { type: \"color\", default: \"#bababa\" },\n\t    knobColor: { type: \"color\", default: \"#f5f5f5\" },\n\t    fillColorEnabled: { type: \"color\", default: \"#80a8ff\" },\n\t    knobColorEnabled: { type: \"color\", default: \"#4076fd\" },\n\t    fillColorDisabled: { type: \"color\", default: \"#939393\" },\n\t    knobColorDisabled: { type: \"color\", default: \"#a2a2a2\" }\n\t  },\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // Assets\n\t    Utils.preloadAssets(Assets);\n\t\n\t    // SFX\n\t    SFX.init(this.el);\n\t\n\t    // FILL\n\t    this.el.fill = document.createElement('a-rounded');\n\t    this.el.fill.setAttribute('width', 0.36);\n\t    this.el.fill.setAttribute('height', 0.16);\n\t    this.el.fill.setAttribute('radius', 0.08);\n\t    this.el.fill.setAttribute('side', 'double');\n\t    this.el.fill.setAttribute('position', '0 0 0.01');\n\t    this.el.appendChild(this.el.fill);\n\t\n\t    // KNOB\n\t    this.el.knob = document.createElement('a-circle');\n\t    this.el.knob.setAttribute('position', '0.06 0.08 0.02');\n\t    this.el.knob.setAttribute('radius', 0.12);\n\t    this.el.knob.setAttribute('side', 'double');\n\t    this.el.appendChild(this.el.knob);\n\t\n\t    // SHADOW\n\t    this.el.shadow_el = document.createElement('a-image');\n\t    this.el.shadow_el.setAttribute('width', 0.24 * 1.25);\n\t    this.el.shadow_el.setAttribute('height', 0.24 * 1.25);\n\t    this.el.shadow_el.setAttribute('position', '0 0 -0.001');\n\t    this.el.shadow_el.setAttribute('src', '#aframeSwitchShadow');\n\t    this.el.knob.appendChild(this.el.shadow_el);\n\t\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.switch.data.disabled) {\n\t        return;\n\t      }\n\t      this.setAttribute('enabled', !this.components.switch.data.enabled);\n\t      Event.emit(this, 'change', this.components.switch.data.enabled);\n\t    });\n\t    this.el.addEventListener('mousedown', function () {\n\t      if (this.components.switch.data.disabled) {\n\t        return SFX.clickDisabled(this);\n\t      }\n\t      SFX.click(this);\n\t    });\n\t\n\t    Object.defineProperty(this.el, 'enabled', {\n\t      get: function get() {\n\t        return this.getAttribute('enabled');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('enabled', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  on: function on() {\n\t    this.el.fill.setAttribute('color', this.data.fillColorEnabled);\n\t    this.el.knob.setAttribute('position', '0.32 0.08 0.02');\n\t    this.el.knob.setAttribute('color', this.data.knobColorEnabled);\n\t  },\n\t  off: function off() {\n\t    this.el.fill.setAttribute('color', this.data.fillColor);\n\t    this.el.knob.setAttribute('position', '0.06 0.08 0.02');\n\t    this.el.knob.setAttribute('color', this.data.knobColor);\n\t  },\n\t  disable: function disable() {\n\t    this.el.fill.setAttribute('color', this.data.fillColorDisabled);\n\t    this.el.knob.setAttribute('color', this.data.knobColorDisabled);\n\t  },\n\t  update: function update() {\n\t    if (this.data.enabled) {\n\t      this.on();\n\t    } else {\n\t      this.off();\n\t    }\n\t    if (this.data.disabled) {\n\t      this.disable();\n\t    }\n\t  }\n\t});\n\t\n\tAFRAME.registerPrimitive('a-switch', {\n\t  defaultComponents: {\n\t    switch: {}\n\t  },\n\t  mappings: {\n\t    name: 'switch.name',\n\t    enabled: 'switch.enabled',\n\t    disabled: 'switch.disabled',\n\t    'fill-color': 'switch.fillColor',\n\t    'knob-color': 'switch.knobColor',\n\t    'fill-color-enabled': 'switch.fillColorEnabled',\n\t    'knob-color-enabled': 'switch.knobColorEnabled',\n\t    'fill-color-disabled': 'switch.fillColorDisabled',\n\t    'knob-color-disabled': 'switch.knobColorDisabled'\n\t  }\n\t});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = [{ type: 'img', id: 'aframeSwitchShadow', src: AFRAME.ASSETS_PATH + '/images/SwitchShadow.png' }, { type: 'audio', id: 'aframeSwitchClick', src: AFRAME.ASSETS_PATH + '/sounds/InputClick.mp3' }, { type: 'audio', id: 'aframeSwitchClickDisabled', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClickDisabled.mp3' }];\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeSwitchClickSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeSwitchClick');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeSwitchClickDisabledSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeSwitchClickDisabled');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  click: function click(parent) {\n\t    var el = parent.querySelector('[key=aframeSwitchClickSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  clickDisabled: function clickDisabled(parent) {\n\t    var el = parent.querySelector('[key=aframeSwitchClickDisabledSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(4);\n\tvar Event = __webpack_require__(10);\n\t\n\tAFRAME.registerComponent('form', {\n\t  schema: {},\n\t  init: function init() {}\n\t});\n\t\n\tAFRAME.registerPrimitive('a-form', {\n\t  defaultComponents: {\n\t    form: {}\n\t  },\n\t  mappings: {}\n\t});\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(4);\n\tvar Event = __webpack_require__(10);\n\tvar Assets = __webpack_require__(19);\n\tvar SFX = __webpack_require__(20);\n\t\n\tAFRAME.registerComponent('radio', {\n\t  schema: {\n\t    checked: { type: 'boolean', default: false },\n\t    disabled: { type: 'boolean', default: false },\n\t    name: { type: \"string\", default: \"\" },\n\t    value: { type: \"string\", default: \"\" },\n\t    label: { type: \"string\", default: \"\" },\n\t    radioColor: { type: \"color\", default: \"#757575\" },\n\t    radioColorChecked: { type: \"color\", default: \"#4076fd\" },\n\t    color: { type: \"color\", default: \"#757575\" },\n\t    font: { type: \"string\", default: \"\" },\n\t    letterSpacing: { type: \"int\", default: 0 },\n\t    lineHeight: { type: \"string\", default: \"\" },\n\t    opacity: { type: \"number\", default: 1 },\n\t    width: { type: \"number\", default: 1 }\n\t  },\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // Assets\n\t    Utils.preloadAssets(Assets);\n\t\n\t    // SFX\n\t    SFX.init(this.el);\n\t\n\t    // HITBOX\n\t    this.hitbox = document.createElement('a-plane');\n\t    this.hitbox.setAttribute('height', 0.2);\n\t    this.hitbox.setAttribute('opacity', 0);\n\t    this.hitbox.setAttribute('position', '0 0 0.001');\n\t    this.el.appendChild(this.hitbox);\n\t\n\t    // OUTLINE\n\t    this.outline = document.createElement('a-ring');\n\t    this.outline.setAttribute('radius-outer', 0.1);\n\t    this.outline.setAttribute('radius-inner', 0.078);\n\t    this.outline.setAttribute('position', '0.1 0 0.002');\n\t    this.el.appendChild(this.outline);\n\t\n\t    // CIRCLE\n\t    this.circle = document.createElement('a-circle');\n\t    this.circle.setAttribute('radius', 0.05);\n\t    this.circle.setAttribute('position', '0.1 0 0.002');\n\t    this.el.appendChild(this.circle);\n\t\n\t    // LABEL\n\t    this.label = document.createElement('a-entity');\n\t    this.el.appendChild(this.label);\n\t\n\t    // EVENTS\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.radio.data.disabled) {\n\t        return;\n\t      }\n\t      this.setAttribute('checked', true);\n\t      that.onClick();\n\t    });\n\t    this.el.addEventListener('mousedown', function () {\n\t      if (this.components.radio.data.disabled) {\n\t        return SFX.clickDisabled(this);\n\t      }\n\t      SFX.click(this);\n\t    });\n\t\n\t    Object.defineProperty(this.el, 'value', {\n\t      get: function get() {\n\t        return this.getAttribute('value');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('value', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  onClick: function onClick(noemit) {\n\t    if (this.data.name) {\n\t      var nearestForm = this.el.closest(\"a-form\");\n\t      if (nearestForm) {\n\t        var didCheck = false;\n\t        var children = Array.from(nearestForm.querySelectorAll('[name=' + this.data.name + ']'));\n\t        children.reverse();\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t          for (var _iterator = children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var child = _step.value;\n\t\n\t            // Radio + not disabled\n\t            if (child.components.radio) {\n\t              // Currently checked\n\t              if (child === this.el && child.hasAttribute('checked')) {\n\t                didCheck = true;\n\t                child.components.radio.check();\n\t                if (!noemit) {\n\t                  Event.emit(child, 'change', true);\n\t                }\n\t              } else {\n\t                if (!didCheck && !this.data.checked && child.hasAttribute('checked')) {\n\t                  didCheck = true;\n\t                  child.components.radio.check();\n\t                } else {\n\t                  child.components.radio.uncheck();\n\t                }\n\t              }\n\t            }\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError = true;\n\t          _iteratorError = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t              _iterator.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError) {\n\t              throw _iteratorError;\n\t            }\n\t          }\n\t        }\n\t\n\t        if (!didCheck && this.el.hasAttribute('checked')) {\n\t          this.check();\n\t          if (!noemit) {\n\t            Event.emit(this.el, 'change', true);\n\t          }\n\t        }\n\t      }\n\t    }\n\t  },\n\t  check: function check() {\n\t    this.outline.setAttribute('color', this.data.radioColorChecked);\n\t    this.circle.setAttribute('color', this.data.radioColorChecked);\n\t    this.circle.setAttribute('visible', true);\n\t    if (this.data.disabled) {\n\t      this.disabled();\n\t    }\n\t  },\n\t  uncheck: function uncheck() {\n\t    this.outline.setAttribute('color', this.data.radioColor);\n\t    this.circle.setAttribute('visible', false);\n\t    if (this.data.disabled) {\n\t      this.disabled();\n\t    }\n\t  },\n\t  disabled: function disabled() {\n\t    this.outline.setAttribute('color', this.data.radioColor);\n\t    this.circle.setAttribute('color', this.data.radioColor);\n\t  },\n\t  update: function update() {\n\t    var that = this;\n\t    this.onClick(true);\n\t\n\t    // HITBOX\n\t    this.hitbox.setAttribute('width', this.data.width);\n\t    this.hitbox.setAttribute('position', this.data.width / 2 + ' 0 0.001');\n\t\n\t    var props = {\n\t      color: this.data.color,\n\t      align: 'left',\n\t      wrapCount: 10 * (this.data.width + 0.2),\n\t      width: this.data.width\n\t    };\n\t    if (this.data.font) {\n\t      props.font = this.data.font;\n\t    }\n\t\n\t    // TITLE\n\t    props.value = this.data.label;\n\t    props.color = this.data.color;\n\t    this.label.setAttribute('text', props);\n\t    this.label.setAttribute('position', this.data.width / 2 + 0.24 + ' 0 0.002');\n\t\n\t    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n\t    function getTextWidth(el, _widthFactor) {\n\t      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n\t        return 0;\n\t      }\n\t      var v = el.object3D.children[0].geometry.visibleGlyphs;\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      v = v[v.length - 1];\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      if (v.line) {\n\t        props.value = props.value.slice(0, -1);\n\t        el.setAttribute(\"text\", props);\n\t        return getTextWidth(el);\n\t      } else {\n\t        if (!_widthFactor) {\n\t          _widthFactor = Utils.getWidthFactor(el, props.wrapCount);\n\t        }\n\t        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n\t        var textRatio = v / that.data.width;\n\t        if (textRatio > 1) {\n\t          props.value = props.value.slice(0, -1);\n\t          el.setAttribute(\"text\", props);\n\t          return getTextWidth(el, _widthFactor);\n\t        }\n\t      }\n\t      return v;\n\t    }\n\t    setTimeout(function () {\n\t      if (that.data.label.length) {\n\t        getTextWidth(that.label);\n\t      }\n\t      if (that.data.disabled) {\n\t        var timer = setInterval(function () {\n\t          if (that.outline.object3D.children[0]) {\n\t            clearInterval(timer);\n\t            Utils.updateOpacity(that.outline, 0.4);\n\t            Utils.updateOpacity(that.circle, 0.4);\n\t            Utils.updateOpacity(that.label, 0.4);\n\t          }\n\t        }, 10);\n\t      } else {\n\t        var _timer = setInterval(function () {\n\t          if (that.outline.object3D.children[0]) {\n\t            clearInterval(_timer);\n\t            Utils.updateOpacity(that.outline, 1);\n\t            Utils.updateOpacity(that.circle, 1);\n\t            Utils.updateOpacity(that.label, 1);\n\t          }\n\t        }, 10);\n\t      }\n\t    }, 0);\n\t  }\n\t});\n\t\n\tAFRAME.registerPrimitive('a-radio', {\n\t  defaultComponents: {\n\t    radio: {}\n\t  },\n\t  mappings: {\n\t    checked: 'radio.checked',\n\t    disabled: 'radio.disabled',\n\t    name: 'radio.name',\n\t    value: 'radio.value',\n\t    label: 'radio.label',\n\t    'radio-color': 'radio.radioColor',\n\t    'radio-color-checked': 'radio.radioColorChecked',\n\t    color: 'radio.color',\n\t    align: 'radio.align',\n\t    font: 'radio.font',\n\t    'letter-spacing': 'radio.letterSpacing',\n\t    'line-height': 'radio.lineHeight',\n\t    'opacity': 'radio.opacity',\n\t    width: 'radio.width'\n\t  }\n\t});\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = [{ type: 'audio', id: 'aframeRadioClick', src: AFRAME.ASSETS_PATH + '/sounds/InputClick.mp3' }, { type: 'audio', id: 'aframeRadioClickDisabled', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClickDisabled.mp3' }];\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeRadioClickSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeRadioClick');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeRadioClickDisabledSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeRadioClickDisabled');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  click: function click(parent) {\n\t    var el = parent.querySelector('[key=aframeRadioClickSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  clickDisabled: function clickDisabled(parent) {\n\t    var el = parent.querySelector('[key=aframeRadioClickDisabledSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(4);\n\tvar Event = __webpack_require__(10);\n\tvar Assets = __webpack_require__(22);\n\tvar SFX = __webpack_require__(23);\n\t\n\tAFRAME.registerComponent('checkbox', {\n\t  schema: {\n\t    checked: { type: 'boolean', default: false },\n\t    disabled: { type: 'boolean', default: false },\n\t    name: { type: \"string\", default: \"\" },\n\t    value: { type: \"string\", default: \"\" },\n\t    label: { type: \"string\", default: \"\" },\n\t    checkboxColor: { type: \"color\", default: \"#757575\" },\n\t    checkboxColorChecked: { type: \"color\", default: \"#4076fd\" },\n\t    color: { type: \"color\", default: \"#757575\" },\n\t    font: { type: \"string\", default: \"\" },\n\t    letterSpacing: { type: \"int\", default: 0 },\n\t    lineHeight: { type: \"string\", default: \"\" },\n\t    opacity: { type: \"number\", default: 1 },\n\t    width: { type: \"number\", default: 1 }\n\t  },\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // Assets\n\t    Utils.preloadAssets(Assets);\n\t\n\t    // SFX\n\t    SFX.init(this.el);\n\t\n\t    // HITBOX\n\t    this.hitbox = document.createElement('a-plane');\n\t    this.hitbox.setAttribute('height', 0.2);\n\t    this.hitbox.setAttribute('opacity', 0);\n\t    this.el.appendChild(this.hitbox);\n\t\n\t    // OUTLINE\n\t    this.outline = document.createElement('a-rounded');\n\t    this.outline.setAttribute('width', 0.2);\n\t    this.outline.setAttribute('height', 0.2);\n\t    this.outline.setAttribute('radius', 0.02);\n\t    this.outline.setAttribute('position', '0 -' + 0.2 / 2 + ' 0.01');\n\t    this.el.appendChild(this.outline);\n\t\n\t    // INSIDE\n\t    this.inside = document.createElement('a-rounded');\n\t    this.inside.setAttribute('width', 0.156);\n\t    this.inside.setAttribute('height', 0.156);\n\t    this.inside.setAttribute('radius', 0.01);\n\t    this.inside.setAttribute('color', \"#EEE\");\n\t    this.inside.setAttribute('position', 0.156 / 8 + ' -' + 0.156 / 2 + ' 0.02');\n\t    this.el.appendChild(this.inside);\n\t\n\t    // CHECKMARK\n\t    this.checkmark = document.createElement('a-image');\n\t    this.checkmark.setAttribute('width', 0.16);\n\t    this.checkmark.setAttribute('height', 0.16);\n\t    this.checkmark.setAttribute('src', \"#aframeCheckboxMark\");\n\t    this.checkmark.setAttribute('position', '0.1 0 0.03');\n\t    this.el.appendChild(this.checkmark);\n\t\n\t    // LABEL\n\t    this.label = document.createElement('a-entity');\n\t    this.el.appendChild(this.label);\n\t\n\t    // EVENTS\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.checkbox.data.disabled) {\n\t        return;\n\t      }\n\t      this.components.checkbox.data.checked = !this.components.checkbox.data.checked;\n\t      this.setAttribute('checked', this.components.checkbox.data.checked);\n\t      that.onClick();\n\t    });\n\t    this.el.addEventListener('mousedown', function () {\n\t      if (this.components.checkbox.data.disabled) {\n\t        return SFX.clickDisabled(this);\n\t      }\n\t      SFX.click(this);\n\t    });\n\t\n\t    Object.defineProperty(this.el, 'value', {\n\t      get: function get() {\n\t        return this.getAttribute('value');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('value', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  onClick: function onClick(noemit) {\n\t    if (this.data.checked) {\n\t      this.check();\n\t    } else {\n\t      this.uncheck();\n\t    }\n\t    if (!noemit) {\n\t      Event.emit(this.el, 'change', this.data.checked);\n\t    }\n\t  },\n\t  check: function check() {\n\t    this.outline.setAttribute('color', this.data.checkboxColorChecked);\n\t    this.inside.setAttribute('color', this.data.checkboxColorChecked);\n\t    this.checkmark.setAttribute('visible', true);\n\t    if (this.data.disabled) {\n\t      this.disabled();\n\t    }\n\t  },\n\t  uncheck: function uncheck() {\n\t    this.outline.setAttribute('color', this.data.checkboxColor);\n\t    this.inside.setAttribute('color', \"#EEE\");\n\t    this.checkmark.setAttribute('visible', false);\n\t    if (this.data.disabled) {\n\t      this.disabled();\n\t    }\n\t  },\n\t  disabled: function disabled() {\n\t    this.outline.setAttribute('color', this.data.checkboxColor);\n\t    this.inside.setAttribute('color', this.data.checkboxColor);\n\t  },\n\t  update: function update() {\n\t    var that = this;\n\t    this.onClick(true);\n\t\n\t    // HITBOX\n\t    this.hitbox.setAttribute('width', this.data.width);\n\t    this.hitbox.setAttribute('position', this.data.width / 2 + ' 0 0.01');\n\t\n\t    var props = {\n\t      color: this.data.color,\n\t      align: 'left',\n\t      wrapCount: 10 * (this.data.width + 0.2),\n\t      width: this.data.width\n\t    };\n\t    if (this.data.font) {\n\t      props.font = this.data.font;\n\t    }\n\t\n\t    // TITLE\n\t    props.value = this.data.label;\n\t    props.color = this.data.color;\n\t    this.label.setAttribute('text', props);\n\t    this.label.setAttribute('position', this.data.width / 2 + 0.24 + ' 0 0.01');\n\t\n\t    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n\t    function getTextWidth(el, _widthFactor) {\n\t      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n\t        return 0;\n\t      }\n\t      var v = el.object3D.children[0].geometry.visibleGlyphs;\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      v = v[v.length - 1];\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      if (v.line) {\n\t        props.value = props.value.slice(0, -1);\n\t        el.setAttribute(\"text\", props);\n\t        return getTextWidth(el);\n\t      } else {\n\t        if (!_widthFactor) {\n\t          _widthFactor = Utils.getWidthFactor(el, props.wrapCount);\n\t        }\n\t        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n\t        var textRatio = v / that.data.width;\n\t        if (textRatio > 1) {\n\t          props.value = props.value.slice(0, -1);\n\t          el.setAttribute(\"text\", props);\n\t          return getTextWidth(el, _widthFactor);\n\t        }\n\t      }\n\t      return v;\n\t    }\n\t    setTimeout(function () {\n\t      if (that.data.label.length) {\n\t        getTextWidth(that.label);\n\t      }\n\t      if (that.data.disabled) {\n\t        var timer = setInterval(function () {\n\t          if (that.checkmark.object3D.children[0]) {\n\t            clearInterval(timer);\n\t            Utils.updateOpacity(that.checkmark, 0.4);\n\t            Utils.updateOpacity(that.label, 0.4);\n\t          }\n\t        }, 10);\n\t      } else {\n\t        var _timer = setInterval(function () {\n\t          if (that.checkmark.object3D.children[0]) {\n\t            clearInterval(_timer);\n\t            Utils.updateOpacity(that.checkmark, 1);\n\t            Utils.updateOpacity(that.label, 1);\n\t          }\n\t        }, 10);\n\t      }\n\t    }, 0);\n\t  }\n\t});\n\t\n\tAFRAME.registerPrimitive('a-checkbox', {\n\t  defaultComponents: {\n\t    checkbox: {}\n\t  },\n\t  mappings: {\n\t    checked: 'checkbox.checked',\n\t    disabled: 'checkbox.disabled',\n\t    name: 'checkbox.name',\n\t    value: 'checkbox.value',\n\t    label: 'checkbox.label',\n\t    'checkbox-color': 'checkbox.checkboxColor',\n\t    'checkbox-color-checked': 'checkbox.checkboxColorChecked',\n\t    color: 'checkbox.color',\n\t    align: 'checkbox.align',\n\t    font: 'checkbox.font',\n\t    'letter-spacing': 'checkbox.letterSpacing',\n\t    'line-height': 'checkbox.lineHeight',\n\t    'opacity': 'checkbox.opacity',\n\t    width: 'checkbox.width'\n\t  }\n\t});\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = [{ type: 'img', id: 'aframeCheckboxMark', src: AFRAME.ASSETS_PATH + '/images/CheckmarkIcon.png' }, { type: 'audio', id: 'aframeCheckboxClick', src: AFRAME.ASSETS_PATH + '/sounds/InputClick.mp3' }, { type: 'audio', id: 'aframeCheckboxClickDisabled', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClickDisabled.mp3' }];\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeCheckboxClickSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeCheckboxClick');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeButtonClickDisabled');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  click: function click(parent) {\n\t    var el = parent.querySelector('[key=aframeCheckboxClickSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  clickDisabled: function clickDisabled(parent) {\n\t    var el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(4);\n\tvar Event = __webpack_require__(10);\n\tvar Assets = __webpack_require__(25);\n\tvar SFX = __webpack_require__(26);\n\t\n\tAFRAME.registerComponent('button', {\n\t  schema: {\n\t    disabled: { type: 'boolean', default: false },\n\t    type: { type: \"string\", default: \"raised\" },\n\t    name: { type: \"string\", default: \"\" },\n\t    value: { type: \"string\", default: \"Button\" },\n\t    buttonColor: { type: \"color\", default: \"#4076fd\" },\n\t    color: { type: \"color\", default: \"#FFF\" },\n\t    font: { type: \"string\", default: \"\" },\n\t    letterSpacing: { type: \"int\", default: 0 },\n\t    lineHeight: { type: \"string\", default: \"\" },\n\t    opacity: { type: \"number\", default: 1 },\n\t    width: { type: \"number\", default: 1 }\n\t  },\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // Assets\n\t    Utils.preloadAssets(Assets);\n\t\n\t    // SFX\n\t    SFX.init(this.el);\n\t\n\t    this.wrapper = document.createElement('a-entity');\n\t    this.wrapper.setAttribute('position', '0 0 0.01');\n\t    this.el.appendChild(this.wrapper);\n\t\n\t    this.shadow = document.createElement('a-image');\n\t    this.shadow.setAttribute('height', 0.36 * 1.25);\n\t    this.shadow.setAttribute('src', '#aframeButtonShadow');\n\t    this.wrapper.appendChild(this.shadow);\n\t\n\t    // OUTLINE\n\t    this.outline = document.createElement('a-rounded');\n\t    this.outline.setAttribute('height', 0.36);\n\t    this.outline.setAttribute('radius', 0.03);\n\t    this.outline.setAttribute('position', '0 -' + 0.36 / 2 + ' 0.01');\n\t    this.wrapper.appendChild(this.outline);\n\t\n\t    // LABEL\n\t    this.label = document.createElement('a-entity');\n\t    this.outline.appendChild(this.label);\n\t\n\t    // EVENTS\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.button && this.components.button.data.disabled) {\n\t        return;\n\t      }\n\t      that.onClick();\n\t    });\n\t    this.el.addEventListener('mousedown', function () {\n\t      if (this.components.button && this.components.button.data.disabled) {\n\t        return SFX.clickDisabled(this);\n\t      }\n\t      that.wrapper.setAttribute('position', '0 0 0.036');\n\t      SFX.click(this);\n\t    });\n\t    this.el.addEventListener('mouseup', function () {\n\t      if (this.components.button && this.components.button.data.disabled) {\n\t        return;\n\t      }\n\t      that.wrapper.setAttribute('position', '0 0 0');\n\t    });\n\t\n\t    this.el.getWidth = this.getWidth.bind(this);\n\t    Object.defineProperty(this.el, 'value', {\n\t      get: function get() {\n\t        return this.getAttribute('value');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('value', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  getWidth: function getWidth() {\n\t    return this.__width;\n\t  },\n\t  update: function update() {\n\t    var that = this;\n\t    this.outline.setAttribute('color', this.data.buttonColor);\n\t\n\t    var props = {\n\t      color: this.data.color,\n\t      align: 'center',\n\t      wrapCount: 10 * this.data.width,\n\t      width: this.data.width\n\t    };\n\t    if (this.data.font) {\n\t      props.font = this.data.font;\n\t    }\n\t\n\t    if (this.data.type === \"flat\") {\n\t      props.color = this.data.buttonColor;\n\t    }\n\t\n\t    // TITLE\n\t    props.value = this.data.value.toUpperCase();\n\t    this.label.setAttribute('text', props);\n\t    this.label.setAttribute('position', this.data.width / 2 + 0.24 + ' 0 0.01');\n\t\n\t    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n\t    function getTextWidth(el, callback, _widthFactor) {\n\t      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n\t        return setTimeout(function () {\n\t          getTextWidth(el, callback);\n\t        }, 10);\n\t      }\n\t      var v = el.object3D.children[0].geometry.visibleGlyphs;\n\t      if (!v) {\n\t        return setTimeout(function () {\n\t          getTextWidth(el, callback);\n\t        }, 10);\n\t      }\n\t      v = v[v.length - 1];\n\t      if (!v) {\n\t        return callback(0);\n\t      }\n\t      if (v.line) {\n\t        props.value = props.value.slice(0, -1);\n\t        el.setAttribute(\"text\", props);\n\t        return getTextWidth(el, callback);\n\t      } else {\n\t        if (!_widthFactor) {\n\t          _widthFactor = Utils.getWidthFactor(el, props.wrapCount);\n\t        }\n\t        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n\t        var textRatio = v / that.data.width;\n\t        if (textRatio > 1) {\n\t          props.value = props.value.slice(0, -1);\n\t          el.setAttribute(\"text\", props);\n\t          return getTextWidth(el, callback, _widthFactor);\n\t        }\n\t      }\n\t      return callback(v);\n\t    }\n\t    setTimeout(function () {\n\t      if (that.data.value.length) {\n\t        getTextWidth(that.label, function (width) {\n\t          that.label.setAttribute('position', width / 2 + 0.28 / 2 + ' ' + 0.36 / 2 + ' 0.02'); //\n\t          width = width + 0.28;\n\t          that.outline.setAttribute('width', width);\n\t          that.__width = width;\n\t          that.shadow.setAttribute('width', width * 1.17);\n\t          that.shadow.setAttribute('position', width / 2 + ' 0 0');\n\t          Event.emit(that.el, 'change:width', width);\n\t        });\n\t      }\n\t\n\t      if (that.data.disabled) {\n\t        that.shadow.setAttribute('visible', false);\n\t        var timer = setInterval(function () {\n\t          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n\t            clearInterval(timer);\n\t            Utils.updateOpacity(that.el, 0.4);\n\t          }\n\t        }, 10);\n\t      } else {\n\t        var _timer = setInterval(function () {\n\t          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n\t            clearInterval(_timer);\n\t            Utils.updateOpacity(that.el, 1);\n\t          }\n\t        }, 10);\n\t      }\n\t\n\t      if (that.data.type === \"flat\") {\n\t        that.shadow.setAttribute('visible', false);\n\t        var _timer2 = setInterval(function () {\n\t          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n\t            clearInterval(_timer2);\n\t            Utils.updateOpacity(that.outline, 0);\n\t            if (that.data.disabled) {\n\t              Utils.updateOpacity(that.label, 0.4);\n\t            }\n\t          }\n\t        }, 10);\n\t      }\n\t    }, 0);\n\t  }\n\t});\n\t\n\tAFRAME.registerPrimitive('a-button', {\n\t  defaultComponents: {\n\t    button: {}\n\t  },\n\t  mappings: {\n\t    disabled: 'button.disabled',\n\t    type: 'button.type',\n\t    name: 'button.name',\n\t    value: 'button.value',\n\t    'button-color': 'button.buttonColor',\n\t    color: 'button.color',\n\t    font: 'button.font',\n\t    'letter-spacing': 'button.letterSpacing',\n\t    'line-height': 'button.lineHeight',\n\t    'opacity': 'button.opacity',\n\t    'width': 'button.width'\n\t  }\n\t});\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = [{ type: 'img', id: 'aframeButtonShadow', src: AFRAME.ASSETS_PATH + '/images/ButtonShadow.png' }, { type: 'audio', id: 'aframeButtonClick', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClick.mp3' }, { type: 'audio', id: 'aframeButtonClickDisabled', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClickDisabled.mp3' }];\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeButtonClickSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeButtonClick');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeButtonClickDisabled');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  click: function click(parent) {\n\t    var el = parent.querySelector('[key=aframeButtonClickSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  clickDisabled: function clickDisabled(parent) {\n\t    var el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// aframe-material.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 05bcad5a83aecd472cd7","(()=>{\n  if (!AFRAME) { return console.error('AFRAME is required!'); }\n  if (!AFRAME.ASSETS_PATH) { AFRAME.ASSETS_PATH = \"./assets\"; }\n  require('aframe-rounded');\n  require(\"./keyboard\");\n  require(\"./input\");\n  require(\"./switch\");\n  require(\"./form\");\n  require(\"./radio\");\n  require(\"./checkbox\");\n  require(\"./button\");\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","!function(t){function e(i){if(a[i])return a[i].exports;var d=a[i]={exports:{},id:i,loaded:!1};return t[i].call(d.exports,d,d.exports,e),d.loaded=!0,d.exports}var a={};return e.m=t,e.c=a,e.p=\"\",e(0)}([function(t,e){AFRAME.registerComponent(\"rounded\",{schema:{enabled:{default:!0},width:{type:\"number\",default:1},height:{type:\"number\",default:1},radius:{type:\"number\",default:.3},topLeftRadius:{type:\"number\",default:-1},topRightRadius:{type:\"number\",default:-1},bottomLeftRadius:{type:\"number\",default:-1},bottomRightRadius:{type:\"number\",default:-1},color:{type:\"color\",default:\"#F0F0F0\"},opacity:{type:\"number\",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D(\"mesh\",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){function t(t,e,a,i,d,o,u,r,s){o||(o=1e-5),u||(u=1e-5),r||(r=1e-5),s||(s=1e-5),t.moveTo(e,a+o),t.lineTo(e,a+d-o),t.quadraticCurveTo(e,a+d,e+o,a+d),t.lineTo(e+i-u,a+d),t.quadraticCurveTo(e+i,a+d,e+i,a+d-u),t.lineTo(e+i,a+s),t.quadraticCurveTo(e+i,a,e+i-s,a),t.lineTo(e+r,a),t.quadraticCurveTo(e,a,e,a+r)}var e=new THREE.Shape,a=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return this.data.topLeftRadius!=-1&&(a[0]=this.data.topLeftRadius),this.data.topRightRadius!=-1&&(a[1]=this.data.topRightRadius),this.data.bottomLeftRadius!=-1&&(a[2]=this.data.bottomLeftRadius),this.data.bottomRightRadius!=-1&&(a[3]=this.data.bottomRightRadius),t(e,0,0,this.data.width,this.data.height,a[0],a[1],a[2],a[3]),new THREE.ShapeBufferGeometry(e)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive(\"a-rounded\",{defaultComponents:{rounded:{}},mappings:{enabled:\"rounded.enabled\",width:\"rounded.width\",height:\"rounded.height\",radius:\"rounded.radius\",\"top-left-radius\":\"rounded.topLeftRadius\",\"top-right-radius\":\"rounded.topRightRadius\",\"bottom-left-radius\":\"rounded.bottomLeftRadius\",\"bottom-right-radius\":\"rounded.bottomRightRadius\",color:\"rounded.color\",opacity:\"rounded.opacity\"}})}]);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/aframe-rounded/dist/aframe-rounded-component.min.js\n// module id = 2\n// module chunks = 0","const Utils = require('../utils');\nconst Draw = require('./draw');\nconst Behaviors = require('./behaviors');\nconst SFX = require('./sfx');\nconst Event = require('../core/event');\n\nAFRAME.registerComponent('keyboard', {\n  schema: {\n    isOpen: { type: \"boolean\", default: false },\n    physicalKeyboard: { type: \"boolean\", default: false }\n  },\n  currentInput: null,\n  init: function () {\n    let that = this;\n\n    // SFX\n    SFX.init(this.el);\n\n    // Draw\n    Draw.init( this.el );\n\n    // Init keyboard UI\n    let numericalUI = Draw.numericalUI(),\n        mainUI      = Draw.mainUI(),\n        actionsUI   = Draw.actionsUI();\n\n    // Create layout\n    this.el.alphabeticalLayout = Draw.alphabeticalLayout();\n    this.el.symbolsLayout = Draw.symbolsLayout();\n\n    // Append layouts to UI\n    numericalUI.appendChild( Draw.numericalLayout() );\n    mainUI.appendChild( this.el.alphabeticalLayout );\n    actionsUI.appendChild( Draw.actionsLayout() );\n\n    this.el.appendChild( numericalUI );\n    this.el.appendChild( mainUI );\n    this.el.appendChild( actionsUI );\n\n    // Inject methods in elements..\n    this.el.show = function() { Behaviors.showKeyboard(that.el); }\n    this.el.hide = function() { Behaviors.hideKeyboard(that.el); }\n    this.el.open = function() { Behaviors.openKeyboard(that.el); }\n    this.el.dismiss = function() { Behaviors.dismissKeyboard(that.el); }\n    this.el.destroy = function() { Behaviors.destroyKeyboard(that.el); }\n\n    // Bind event handlers\n    this.inputEvent = this.inputEvent.bind(this);\n    this.backspaceEvent = this.backspaceEvent.bind(this);\n    this.dismissEvent = this.dismissEvent.bind(this);\n    this.keydownEvent = this.keydownEvent.bind(this);\n    this.didFocusInputEvent = this.didFocusInputEvent.bind(this);\n    this.didBlurInputEvent = this.didBlurInputEvent.bind(this);\n\n    // Set default value\n    this.el.setAttribute(\"scale\", \"2 2 2\");\n    this.el.setAttribute(\"rotation\", \"-20 0 0\");\n    this.el.setAttribute(\"position\", \"-1.5 -0.3 -2\");\n\n    // Register keyboard events\n    this.el.addEventListener('input', this.inputEvent);\n    this.el.addEventListener('backspace', this.backspaceEvent);\n    this.el.addEventListener('dismiss', this.dismissEvent);\n\n    // Register global events\n    document.addEventListener('keydown', this.keydownEvent);\n    document.body.addEventListener('didfocusinput', this.didFocusInputEvent);\n    document.body.addEventListener('didblurinput', this.didBlurInputEvent);\n  },\n  update: function () {\n    if (this.data.isOpen) {\n      Behaviors.showKeyboard(this.el);\n    } else {\n      Behaviors.hideKeyboard(this.el);\n    }\n  },\n  tick: function () {},\n  remove: function () {\n    this.el.removeEventListener('input', this.inputEvent);\n    this.el.removeEventListener('backspace', this.backspaceEvent);\n    this.el.removeEventListener('dismiss', this.dismissEvent);\n\n    document.removeEventListener('keydown', this.keydownEvent);\n    document.body.removeEventListener('didfocusinput', this.didFocusInputEvent);\n    document.body.removeEventListener('didblurinput', this.didBlurInputEvent);\n  },\n\n  // Fired on keyboard key press\n  inputEvent: function(e) {\n    if (this.currentInput) {\n      this.currentInput.appendString(e.detail);\n    }\n  },\n\n  // Fired on backspace key press\n  backspaceEvent: function(e){\n    if (this.currentInput) {\n      this.currentInput.deleteLast();\n    }\n  },\n\n  dismissEvent: function(e){\n    if (this.currentInput) {\n      this.currentInput.blur();\n    }\n  },\n\n  // physical keyboard event\n  keydownEvent: function(e) {\n    if (this.currentInput && this.data.physicalKeyboard) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (e.key === 'Enter') {\n        Event.emit(Behaviors.el, 'input', '\\n');\n        Event.emit(Behaviors.el, 'enter', '\\n');\n      }\n      else if (e.key === 'Backspace') {\n        Event.emit(Behaviors.el, 'backspace');\n      }\n      else if (e.key === 'Escape') {\n        Event.emit(Behaviors.el, 'dismiss');\n      }\n      else if (e.key.length < 2) {\n        Event.emit(Behaviors.el, 'input', e.key);\n      }\n    }\n  },\n\n  // Fired when an input has been selected\n  didFocusInputEvent: function(e) {\n    if (this.currentInput) this.currentInput.blur(true);\n    this.currentInput = e.detail;\n    if (!this.el.isOpen) Behaviors.openKeyboard(this.el);\n  },\n\n  // Fired when an input has been deselected\n  didBlurInputEvent: function(e) {\n    this.currentInput = null;\n    Behaviors.dismissKeyboard(this.el);\n  }\n});\n\nAFRAME.registerPrimitive('a-keyboard', {\n  defaultComponents: {\n    keyboard: {}\n  },\n  mappings: {\n    'is-open': 'keyboard.isOpen',\n    'physical-keyboard': 'keyboard.physicalKeyboard',\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/index.js","const Utils = {};\n\n/**\n  Utils.preloadAssets([])\n  Add assets to Assets managment system.\n*/\nUtils.preloadAssets = (assets_arr)=>{\n  let assets = document.querySelector('a-assets'), already_exists;\n\n  if (!assets) {\n    var scene = document.querySelector('a-scene');\n    assets = document.createElement('a-assets');\n    scene.appendChild(assets);\n  }\n\n  for (let item of assets_arr) {\n    already_exists = false;\n\n    /***** With Edge, assets.children is a HTMLCollection, not an Array! *****/\n    for (let stuff of Array.from(assets.children)) {\n      if (item.id === stuff.id) {\n        already_exists = true;\n      }\n    }\n\n    if (!already_exists) {\n      var asset_item = document.createElement(item.type);\n      asset_item.setAttribute('id', item.id);\n      asset_item.setAttribute('src', item.src);\n      assets.appendChild(asset_item);\n    }\n  }\n}\n\n\n/**\n  Utils.extend(a, b)\n  Assign object to other object.\n*/\nUtils.extend = function(a, b) {\n\tfor (let key in b) {\n\t\tif (b.hasOwnProperty(key)) {\n\t\t\ta[key] = b[key];\n\t\t}\n\t}\n\treturn a;\n};\n\n\nUtils.clone = function(original) {\n\tif (Array.isArray(original)) {\n\t\treturn original.slice(0);\n\t}\n\n\t// First create an empty object with\n\t// same prototype of our original source\n\tconst clone = Object.create(Object.getPrototypeOf(original));\n\tlet i = undefined;\n\tconst keys = Object.getOwnPropertyNames(original);\n\ti = 0;\n\twhile (i < keys.length) {\n\t\t// copy each property into the clone\n\t\tObject.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\n\t\ti++;\n\t}\n\treturn clone;\n};\n\n\nUtils.updateOpacity = function(el, opacity) {\n  if (el.hasAttribute('text')) {\n    let props = el.getAttribute('text');\n    if (props) {\n      props.opacity = opacity;\n      el.setAttribute('text', props);\n    }\n  }\n  el.object3D.traverse(function (o) {\n    if (o.material) {\n      o.material.transparent = true;\n      o.material.opacity = opacity;\n    }\n  });\n  for (let text of el.querySelectorAll('a-text')) {\n    text.setAttribute('opacity', opacity);\n  }\n}\n\n\n// Calculate the width factor\nUtils.getWidthFactor = function(el, wrapCount) {\n  let widthFactor = 0.00001;\n  if (el.components.text && el.components.text.currentFont) {\n    widthFactor = el.components.text.currentFont.widthFactor\n    widthFactor = ((0.5 + wrapCount) * widthFactor);\n  }\n  return widthFactor;\n}\n\nmodule.exports = Utils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","const Assets = require('./assets');\nconst Layouts = require('./layouts');\nconst Config = require('./config');\nconst Behaviors = require('./behaviors');\nconst Draw = {};\n\nDraw.el = null;\n\nDraw.init = (el)=>{\n  Draw.el = el;\n  Behaviors.el = el;\n  Behaviors.SFX = el.SFX;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL UI\n\nDraw.numericalUI = ()=> {\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.025 0 0.12');\n  wrapper.setAttribute('rotation', '0 25 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.280');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW MAIN UI\n\nDraw.mainUI = ()=>{\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.312 0 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.840');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ACTION UI\n\nDraw.actionsUI = ()=> {\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '1.180 0 0.01');\n  wrapper.setAttribute('rotation', '0 -25 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.180');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL LAYOUT\n\nDraw.numericalLayout = ()=> {\n  var data = Layouts.numerical;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0;\n  for (var i in data) {\n    let key_id = 'num-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n    let index_x = i%3;\n    let x = Config.KEY_WIDTH*index_x;\n    let y = Config.KEY_WIDTH*index_y;\n    key.setAttribute('position', `${x} -${y} 0`);\n    if (index_x === 2) { index_y++; }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ALPHABETICAL LAYOUT\n\nDraw.alphabeticalLayout = ()=> {\n  var data = Layouts.alphabetical;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0, index_x = 0, prev_was_space = false;\n\n  for (var i in data) {\n    let key_id = 'main-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n\n    let x = Config.KEY_WIDTH*index_x;\n    let y = Config.KEY_WIDTH*index_y;\n\n    // Add left padding on the second line\n    if (index_y === 1) {\n      x = x + Config.KEY_WIDTH/2;\n    }\n\n    // Add margin on the key next to the spacebar key\n    if (prev_was_space) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === 'spacebar') {\n      prev_was_space = true;\n      x = x+0.055;\n      y = Config.KEY_WIDTH*index_y -  0.01;\n    }\n\n    key.setAttribute('position', `${x} -${y} 0`);\n\n    if (index_y === 1 && index_x === 8) {\n      index_x = -1;\n      index_y++;\n    } else if (index_x === 9) {\n      index_x = -1;\n      index_y++;\n    }\n    index_x++;\n\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW SYMBOLS LAYOUT\n\nDraw.symbolsLayout = ()=> {\n  var data = Layouts.symbols;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0, index_x = 0, prev_was_space = false;\n\n  for (var i in data) {\n\n    let key_id = 'symbols-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n    let x = Config.KEY_WIDTH*index_x;\n    let y = Config.KEY_WIDTH*index_y;\n\n    // Add margin on the key next to the spacebar key\n    if (prev_was_space) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === 'spacebar') {\n      prev_was_space = true;\n      x = x+0.055;\n      y = Config.KEY_WIDTH*index_y -  0.01;\n    }\n\n    key.setAttribute('position', `${x} -${y} 0`);\n\n    if (index_x === 9) {\n      index_x = -1;\n      index_y++;\n    }\n    index_x++;\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ACTIONS LAYOUT\n\nDraw.actionsLayout = ()=> {\n  var data = Layouts.actions;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let val_y = 0;\n  for (var i in data) {\n    let key_id = 'action-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n\n    key.setAttribute('position', `0 -${val_y} 0`);\n    if (i == 0) {\n      val_y += Config.ACTION_WIDTH+0.01;\n    }\n    else if (i == 1) {\n      val_y += Config.KEY_WIDTH+0.01;\n    }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW KEY\n\nDraw.key = (id, type, value)=> {\n  var that = this;\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('key-id', id);\n  el.setAttribute('width', Config.KEY_WIDTH);\n  el.setAttribute('height', Config.KEY_WIDTH);\n  el.setAttribute('radius', '0.008');\n  el.setAttribute('position', '0 0 0');\n  el.setAttribute('key-type', type);\n  el.setAttribute('key-value', value);\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\n  // ---------------------------------------------------------------------------\n  // EVENTS\n\n  Behaviors.addKeyEvents(el);\n\n  // ---------------------------------------------------------------------------\n  // SHADOW\n\n  el.shadow_el = document.createElement('a-image');\n  el.shadow_el.setAttribute('width', Config.KEY_WIDTH*1.25);\n  el.shadow_el.setAttribute('height', Config.KEY_WIDTH*1.25);\n  el.shadow_el.setAttribute('position', Config.KEY_WIDTH/2+' '+Config.KEY_WIDTH/2+' -0.002');\n  el.shadow_el.setAttribute('src', Assets.aframeKeyboardShadow);\n  el.appendChild(el.shadow_el);\n\n  // ---------------------------------------------------------------------------\n  // TEXT KEY\n\n  if (type === 'text' || type === 'spacebar' || type ===  'symbol') {\n    var letter_el = document.createElement('a-text');\n    letter_el.setAttribute('value', value);\n    letter_el.setAttribute('color', '#dbddde');\n    letter_el.setAttribute('position', Config.KEY_WIDTH/2+' '+Config.KEY_WIDTH/2+' 0.01');\n    letter_el.setAttribute('scale', '0.16 0.16 0.16');\n    letter_el.setAttribute('align', 'center');\n    letter_el.setAttribute('baseline', 'center');\n    el.appendChild(letter_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // SPACEBAR KEY\n\n  if (type === 'spacebar') {\n    el.setAttribute('width', Config.SPACE_KEY_WIDTH);\n    el.setAttribute('height', Config.SPACE_KEY_HEIGHT);\n    el.setAttribute('color', '#404b50');\n    el.shadow_el.setAttribute('width', Config.SPACE_KEY_WIDTH*1.12);\n    el.shadow_el.setAttribute('height', Config.SPACE_KEY_HEIGHT*1.2);\n    el.shadow_el.setAttribute('position', Config.SPACE_KEY_WIDTH/2+' '+Config.SPACE_KEY_HEIGHT/2+' -0.02');\n    letter_el.setAttribute('color', '#adb1b3');\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n    letter_el.setAttribute('position', Config.SPACE_KEY_WIDTH/2+' '+Config.SPACE_KEY_HEIGHT/2+' 0');\n  }\n\n  // ---------------------------------------------------------------------------\n  // SYMBOL KEY\n\n  else if (type === 'symbol') {\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n  }\n\n  // ---------------------------------------------------------------------------\n  // ACTION KEY\n\n  if (type === 'backspace' || type === 'enter' || type === 'dismiss') {\n    el.setAttribute('width', Config.ACTION_WIDTH);\n    el.shadow_el.setAttribute('width', Config.ACTION_WIDTH*1.25);\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH/2+' '+Config.KEY_WIDTH/2+' -0.02');\n  }\n\n  // ---------------------------------------------------------------------------\n  // SHIFT KEY\n\n  if (type === 'shift') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('data-type', 'icon');\n    icon_el.setAttribute('width', '0.032');\n    icon_el.setAttribute('height', '0.032');\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\n    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\n    el.appendChild(icon_el);\n    Draw.el.shiftKey = el;\n  }\n\n  // ---------------------------------------------------------------------------\n  // GLOBAL\n\n  else if (type === 'global') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.032');\n    icon_el.setAttribute('height', '0.032');\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\n    icon_el.setAttribute('src', Assets.aframeKeyboardGlobal);\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // BACKSPACE\n\n  else if (type === 'backspace') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.046');\n    icon_el.setAttribute('height', '0.046');\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\n    icon_el.setAttribute('src', Assets.aframeKeyboardBackspace);\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // ENTER\n\n  else if (type === 'enter') {\n    el.setAttribute('height', Config.ACTION_WIDTH);\n    el.shadow_el.setAttribute('height', Config.ACTION_WIDTH*1.25);\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH/2+' '+Config.ACTION_WIDTH/2+' -0.02');\n\n    var circle_el = document.createElement('a-circle');\n    circle_el.setAttribute('color', '#4285f4');\n    circle_el.setAttribute('radius', 0.044);\n    circle_el.setAttribute('position', '0.07 0.07 0.01')\n    el.appendChild(circle_el);\n\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.034');\n    icon_el.setAttribute('height', '0.034');\n    icon_el.setAttribute('position', '0.07 0.07 0.011')\n    icon_el.setAttribute('src', Assets.aframeKeyboardEnter);\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // DISMISS\n\n  else if (type === 'dismiss') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.046');\n    icon_el.setAttribute('height', '0.046');\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\n    icon_el.setAttribute('src', Assets.aframeKeyboardDismiss);\n    el.appendChild(icon_el);\n  }\n\n  return el;\n}\n\nmodule.exports = Draw;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/draw.js","module.exports = {\n  aframeKeyboardShift: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`,\n  aframeKeyboardShiftActive: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`,\n  aframeKeyboardGlobal: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`,\n  aframeKeyboardBackspace: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`,\n  aframeKeyboardEnter: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`,\n  aframeKeyboardDismiss: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`,\n  aframeKeyboardShadow: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`,\n  aframeKeyboardKeyIn: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,\n  aframeKeyboardKeyDown: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/assets.js","const Layouts = {\n  numerical: [\n    { type: 'text', value: '1'},\n    { type: 'text', value: '2'},\n    { type: 'text', value: '3'},\n    { type: 'text', value: '4'},\n    { type: 'text', value: '5'},\n    { type: 'text', value: '6'},\n    { type: 'text', value: '7'},\n    { type: 'text', value: '8'},\n    { type: 'text', value: '9'},\n    { type: 'text', value: '.'},\n    { type: 'text', value: '0'},\n    { type: 'text', value: '-'}\n  ],\n\n  alphabetical: [\n    { type: 'text', value: 'q'},\n    { type: 'text', value: 'w'},\n    { type: 'text', value: 'e'},\n    { type: 'text', value: 'r'},\n    { type: 'text', value: 't'},\n    { type: 'text', value: 'y'},\n    { type: 'text', value: 'u'},\n    { type: 'text', value: 'i'},\n    { type: 'text', value: 'o'},\n    { type: 'text', value: 'p'},\n\n    { type: 'text', value: 'a'},\n    { type: 'text', value: 's'},\n    { type: 'text', value: 'd'},\n    { type: 'text', value: 'f'},\n    { type: 'text', value: 'g'},\n    { type: 'text', value: 'h'},\n    { type: 'text', value: 'j'},\n    { type: 'text', value: 'k'},\n    { type: 'text', value: 'l'},\n\n    { type: 'shift'},\n    { type: 'text', value: 'z'},\n    { type: 'text', value: 'x'},\n    { type: 'text', value: 'c'},\n    { type: 'text', value: 'v'},\n    { type: 'text', value: 'b'},\n    { type: 'text', value: 'n'},\n    { type: 'text', value: 'm'},\n    { type: 'text', value: '!'},\n    { type: 'text', value: '?'},\n\n    { type: 'symbol', value: '#+='},\n    { type: 'text', value: '@'},\n    { type: 'spacebar', value: ''},\n    { type: 'text', value: ','},\n    { type: 'text', value: '.'}\n  ],\n\n  symbols: [\n    { type: 'text', value: '@'},\n    { type: 'text', value: '#'},\n    { type: 'text', value: '$'},\n    { type: 'text', value: '%'},\n    { type: 'text', value: '&'},\n    { type: 'text', value: '*'},\n    { type: 'text', value: '-'},\n    { type: 'text', value: '+'},\n    { type: 'text', value: '('},\n    { type: 'text', value: ')'},\n\n    { type: 'text', value: '~'},\n    { type: 'text', value: '`'},\n    { type: 'text', value: '\"'},\n    { type: 'text', value: '\\''},\n    { type: 'text', value: ':'},\n    { type: 'text', value: ';'},\n    { type: 'text', value: '_'},\n    { type: 'text', value: '='},\n    { type: 'text', value: '\\\\'},\n    { type: 'text', value: '/'},\n\n    { type: 'text', value: '{'},\n    { type: 'text', value: '}'},\n    { type: 'text', value: '['},\n    { type: 'text', value: ']'},\n    { type: 'text', value: '<'},\n    { type: 'text', value: '>'},\n    { type: 'text', value: '^'},\n    { type: 'text', value: '|'},\n    { type: 'text', value: '!'},\n    { type: 'text', value: '?'},\n\n    { type: 'symbol', value: 'ABC'},\n    { type: 'text', value: '@'},\n    { type: 'spacebar', value: ''},\n    { type: 'text', value: ','},\n    { type: 'text', value: '.'}\n  ],\n\n  actions: [\n    { type: 'backspace', value: 'Del'},\n    { type: 'enter', value: 'OK'},\n    { type: 'dismiss', value: 'W'},\n  ]\n}\n\nmodule.exports = Layouts;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/layouts.js","const Config = {\n  KEYBOARD_COLOR: \"#263238\",\n  KEY_COLOR_HIGHLIGHT: \"#29363c\",\n  KEY_COLOR_ACTIVE: \"#404b50\",\n  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\n  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\n  KEY_WIDTH: 0.08,\n  SPACE_KEY_WIDTH: 0.368,\n  SPACE_KEY_HEIGHT: 0.05,\n  ACTION_WIDTH: 0.140,\n}\n\nmodule.exports = Config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/config.js","const Assets = require('./assets');\nconst Config = require('./config');\nconst Utils = require('../utils');\nconst Event = require('../core/event');\nconst SFX = require('./sfx');\nconst Behaviors = {};\n\nBehaviors.el = null;\n\n// -----------------------------------------------------------------------------\n// KEYBOARD METHODS\n\nBehaviors.showKeyboard = function(el) {\n  el.isOpen = true;\n  let p = el.object3D.position;\n  console.log('show keyboard position')\n  console.log(p.x)\n  console.log(p.y)\n  console.log(p.z)\n  if (p.x === -10000 && p.y === -10000 && p.z === -10000) {\n    el.object3D.position.set(0, 0, 0);\n  }\n  !el.parentNode && el.sceneEl.appendChild(el);\n};\n\nBehaviors.hideKeyboard = function(el) {\n  el.isOpen = false;\n  // TODO: Figure out a better way to hide stuff.\n  el.object3D.position.set(-10000, -10000, -10000);\n}\n\nBehaviors.destroyKeyboard = function(el) {\n  let parent = el.parentNode;\n  if (!parent) { return; }\n  parent && parent.removeChild(el);\n};\n\nBehaviors.openKeyboard = function(el) {\n  Behaviors.showKeyboard(el);\n  Event.emit(Behaviors.el, 'didopen');\n};\n\nBehaviors.dismissKeyboard = function(el) {\n  Behaviors.hideKeyboard(el);\n  Event.emit(Behaviors.el, 'diddismiss');\n};\n\n// -----------------------------------------------------------------------------\n// KEY EVENTS\n\nBehaviors.addKeyEvents = (el)=>{\n  el.addEventListener('click', Behaviors.keyClick);\n  el.addEventListener('mousedown', Behaviors.keyDown);\n  el.addEventListener('mouseup', Behaviors.keyOut);\n  el.addEventListener('raycaster-intersected', Behaviors.keyIn );\n  el.addEventListener('raycaster-intersected-cleared', Behaviors.keyOut );\n  //triggerdown\n  // https://aframe.io/docs/0.6.0/components/hand-controls.html\n};\n\n// -----------------------------------------------------------------------------\n// KEYCLICK\n\nBehaviors.keyClick = function() {\n  SFX.keyDown(Behaviors.el);\n\n  let type = this.getAttribute('key-type');\n  let value = this.getAttribute('key-value');\n\n  if (type === 'text' || type === 'spacebar') {\n    if (type === 'spacebar') { value = ' '; }\n    if (Behaviors.isShiftEnabled) {\n      value = value.toUpperCase();\n      Behaviors.shiftToggle();\n    }\n    else if (Behaviors.isSymbols) {\n      Behaviors.symbolsToggle();\n    }\n    Event.emit(Behaviors.el, 'input', value);\n  }\n  else if (type === 'shift') {\n    Behaviors.shiftToggle();\n  }\n  else if (type === 'symbol') {\n    Behaviors.symbolsToggle();\n  }\n  else if (type === 'backspace') {\n    Event.emit(Behaviors.el, 'backspace');\n  }\n  else if (type === 'enter') {\n    Event.emit(Behaviors.el, 'input', '\\n');\n    Event.emit(Behaviors.el, 'enter', '\\n');\n  }\n  else if (type === 'dismiss') {\n    Event.emit(Behaviors.el, 'dismiss');\n  }\n}\n\n// -----------------------------------------------------------------------------\n// KEYDOWN\n\nBehaviors.keyDown = function() {\n  this.object3D.position.z = 0.003;\n  if (this.getAttribute('key-type') === 'spacebar') {\n    this.setAttribute('color', Config.SPACEBAR_COLOR_ACTIVE);\n  } else {\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYIN\n\nBehaviors.keyIn = function() {\n  if (this.object3D.children[2] && this.object3D.children[2].material && !this.object3D.children[2].material.opacity) {\n    return\n  }\n  SFX.keyIn(Behaviors.el);\n  if (this.getAttribute('key-type') === 'spacebar') {\n    this.setAttribute('color', Config.SPACEBAR_COLOR_HIGHLIGHT);\n  } else {\n    this.setAttribute('color', Config.KEY_COLOR_HIGHLIGHT);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYOUT\n\nBehaviors.keyOut = function() {\n  this.object3D.position.z = 0;\n  if (this.getAttribute('key-type') === 'spacebar') {\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n  } else {\n    this.setAttribute('color', Config.KEYBOARD_COLOR);\n  }\n}\n\n// -----------------------------------------------------------------------------\n// SHIFT\n\nBehaviors.isShiftEnabled = false;\nBehaviors.shiftToggle = function() {\n  Behaviors.isShiftEnabled = !Behaviors.isShiftEnabled;\n\n  var icon_el = Behaviors.el.shiftKey.querySelector('[data-type]');\n  if (Behaviors.isShiftEnabled) {\n    icon_el.setAttribute('src', Assets.aframeKeyboardShiftActive);\n  } else {\n    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\n  }\n\n  for ( let keyEl of document.querySelectorAll(\"[key-id]\") ) {\n    let key_id = keyEl.getAttribute('key-id'), key_type = keyEl.getAttribute('key-type');\n    if (key_id.startsWith('main-') && key_type === \"text\") {\n      let textEl = keyEl.querySelector('a-text');\n      if (textEl) {\n        let value = textEl.getAttribute('value').toLowerCase();\n        if (this.isShiftEnabled) { value = value.toUpperCase(); }\n        textEl.setAttribute('value', value);\n      }\n    }\n  }\n}\n\n// -----------------------------------------------------------------------------\n// SYMBOLS\n\nBehaviors.isSymbols = false;\nBehaviors.symbolsToggle = function() {\n  Behaviors.isSymbols = !Behaviors.isSymbols;\n  if (!Behaviors.isSymbols) {\n    let parent = Behaviors.el.symbolsLayout.parentNode;\n    parent.removeChild(Behaviors.el.symbolsLayout);\n    parent.appendChild(Behaviors.el.alphabeticalLayout);\n    setTimeout(function() {\n      Utils.updateOpacity(Behaviors.el.alphabeticalLayout, 1);\n    }, 0)\n  } else {\n    let parent = Behaviors.el.alphabeticalLayout.parentNode;\n    parent.removeChild(Behaviors.el.alphabeticalLayout);\n    parent.appendChild(Behaviors.el.symbolsLayout);\n  }\n}\n\n\n\nmodule.exports = Behaviors;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/behaviors.js","module.exports = {\n  emit: (el, name, data)=> {\n    el.dispatchEvent( new CustomEvent(name, {detail: data}) );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/event.js","var Assets = require('./Assets');\n\nconst SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeKeyboardKeyInSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', Assets.aframeKeyboardKeyIn);\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeKeyboardKeyDownSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', Assets.aframeKeyboardKeyDown);\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  keyIn: function(parent) {\n    let el = parent.querySelector('[key=aframeKeyboardKeyInSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  keyDown: function(parent) {\n    let el = parent.querySelector('[key=aframeKeyboardKeyDownSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/sfx.js","module.exports = {\n  aframeKeyboardShift: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`,\n  aframeKeyboardShiftActive: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`,\n  aframeKeyboardGlobal: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`,\n  aframeKeyboardBackspace: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`,\n  aframeKeyboardEnter: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`,\n  aframeKeyboardDismiss: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`,\n  aframeKeyboardShadow: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`,\n  aframeKeyboardKeyIn: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,\n  aframeKeyboardKeyDown: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/Assets.js","const Utils = require('../utils');\nconst Event = require('../core/event');\n\n/*\n@BUG: Space has not effect when no letter comes after.\n@TODO: <progress value=\"70\" max=\"100\">70 %</progress>\n*/\n\nAFRAME.registerComponent('input', {\n  schema: {\n    value: { type: \"string\", default: \"\" },\n    name: { type: \"string\", default: \"\" },\n    disabled: { type: \"boolean\", default: false },\n    color: { type: \"color\", default: \"#000\" },\n    align: { type: \"string\", default: \"left\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    side: { type: \"string\", default: 'front' },\n    tabSize: { type: \"int\", default: 4 },\n    placeholder: { type: \"string\", default: \"\" },\n    placeholderColor: { type: \"color\", default: \"#AAA\" },\n    maxLength: { type: \"int\", default: 0 },\n    type: { type: \"string\", default: \"text\" },\n    width: { type: \"number\", default: 1 },\n    cursorWidth: { type: \"number\", default: 0.01 },\n    cursorHeight: { type: \"number\", default: 0.08 },\n    cursorColor: { type: \"color\", default: \"#007AFF\" },\n    backgroundColor: { type: \"color\", default: \"#FFF\" },\n    backgroundOpacity: { type: \"number\", default: 1 },\n  },\n\n  init: function () {\n    let that = this;\n\n    this.background = document.createElement('a-rounded');\n    this.background.setAttribute('radius', 0.01)\n    this.background.setAttribute('height', 0.18)\n    this.background.setAttribute('side', 'double')\n    this.el.appendChild(this.background);\n\n    this.cursor = document.createElement('a-plane');\n    this.cursor.setAttribute('position', '0 0 0.003');\n    this.cursor.setAttribute('visible', false);\n    this.el.appendChild(this.cursor);\n\n    this.text = document.createElement('a-entity');\n    this.el.appendChild(this.text);\n\n    this.placeholder = document.createElement('a-entity');\n    this.placeholder.setAttribute('visible', false);\n    this.el.appendChild(this.placeholder);\n\n    this.el.focus = this.focus.bind(this);\n    this.el.blur = this.blur.bind(this);\n    this.el.appendString = this.appendString.bind(this);\n    this.el.deleteLast = this.deleteLast.bind(this);\n\n    //setTimeout(function() { that.updateText(); }, 0);\n    this.blink();\n\n    this.el.addEventListener('click', function() {\n      if (this.components.input.data.disabled) { return; }\n      that.focus();\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  blink: function() {\n    let that = this;\n    if (!this.isFocused) {\n      that.cursor.setAttribute('visible', false);\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n      return\n    }\n    this.cursorInterval = setInterval(function(){\n      that.cursor.setAttribute('visible', !that.cursor.getAttribute('visible'));\n    }, 500);\n  },\n  isFocused: false,\n  focus: function(noemit) {\n    if (this.isFocused) return;\n    this.isFocused = true;\n    this.cursor.setAttribute('visible', true);\n    this.blink();\n    Event.emit(this.el, 'focus');\n    if (!noemit) Event.emit(document.body, 'didfocusinput', this.el);\n  },\n  blur: function(noemit) {\n    if (!this.isFocused) { return; }\n    this.isFocused = false;\n    if (this.cursorInterval) {\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n    }\n    this.cursor.setAttribute('visible', false);\n    Event.emit(this.el, 'blur');\n    if (!noemit) { Event.emit(document.body, 'didblurinput', this.el); }\n  },\n  appendString: function(data) {\n    if(data === '\\n') {\n      return this.blur();\n    }\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\" }\n    str = str+data;\n    this.el.setAttribute(\"value\", str)\n    Event.emit(this.el, 'change', str);\n  },\n  deleteLast: function() {\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\" }\n    str = str.slice(0, -1);\n    this.el.setAttribute(\"value\", str)\n    Event.emit(this.el, 'change', str);\n  },\n  updateText: function() {\n    let that = this;\n    let padding = {\n      left: 0.021,\n      right: 0.021\n    };\n\n    let props = {\n      color: this.data.color,\n      align: this.data.align,\n      side: this.data.side,\n      tabSize: this.data.tabSize,\n      wrapCount: 24*this.data.width,\n      width: this.data.width\n    }\n\n    // Make cursor stop blinking when typing..\n    // (and blinking again after typing stop).\n    let attr = this.text.getAttribute(\"text\");\n    if (attr) {\n      if (this.data.value !== attr.value) {\n        if (this.cursorInterval) {\n          clearInterval(this.cursorInterval);\n          this.cursorInterval = null;\n        }\n        if (this.cursorTimer) {\n          clearTimeout(this.cursorTimer);\n          this.cursorTimer = null;\n        }\n        this.cursor.setAttribute('visible', true);\n        this.cursorTimer = setTimeout(function(){\n          that.blink();\n        }, 50);\n      }\n    }\n\n    // Max length\n    if (this.data.maxLength) {\n      props.value = this.data.value.substring(0, this.data.maxLength);\n      this.el.setAttribute('value', props.value)\n    } else {\n      props.value = this.data.value;\n    }\n\n    if (this.data.type === \"password\") {\n      props.value = \"*\".repeat(this.data.value.length);\n    }\n\n    if (this.data.font.length) { props.font = this.data.font }\n    if (this.data.letterSpacing) { props.letterSpacing = this.data.letterSpacing; }\n    if (this.data.lineHeight.length) { props.lineHeight = this.data.lineHeight; }\n    this.text.setAttribute('visible', false);\n    this.text.setAttribute(\"text\", props);\n\n    function getTextWidth(el, data, trimFirst, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        if (trimFirst) {\n          data.value = data.value.substr(1);\n        } else {\n          data.value = data.value.slice(0, -1);\n        }\n        el.setAttribute(\"text\", data);\n        return getTextWidth(el, data, trimFirst);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, data.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = (v+padding.left+padding.right) / that.data.width;\n\n        if (textRatio > 1) {\n          if (trimFirst) {\n            data.value = data.value.substr(1);\n          } else {\n            data.value = data.value.slice(0, -1);\n          }\n          el.setAttribute(\"text\", data);\n          return getTextWidth(el, data, trimFirst, _widthFactor);\n        }\n      }\n      return v;\n    }\n\n\n    if (props.value.length) {\n      this.placeholder.setAttribute('visible', false);\n    } else {\n      this.placeholder.setAttribute('visible', true);\n    }\n\n    let placeholder_props = Utils.clone(props);\n    placeholder_props.value = this.data.placeholder;\n    placeholder_props.color = this.data.placeholderColor;\n    this.placeholder.setAttribute(\"text\", placeholder_props);\n\n    setTimeout(function() {\n      if (that.text.object3D) {\n        let children = that.text.object3D.children;\n        if (children[0] && children[0].geometry && children[0].geometry.visibleGlyphs) {\n          let v = 0;\n          if (children[0].geometry.visibleGlyphs.length) {\n            v = getTextWidth(that.text, props, true);\n            that.text.setAttribute('visible', true);\n          }\n          that.cursor.setAttribute('position', v+padding.left+' 0 0.003');\n        } else {\n          that.cursor.setAttribute('position', padding.left+' 0 0.003');\n        }\n      } else {  that.cursor.setAttribute('position', padding.left+' 0 0.003'); }\n      getTextWidth(that.placeholder, placeholder_props);\n    }, 0)\n\n    this.background.setAttribute('color', this.data.backgroundColor)\n    /*if (this.data.backgroundOpacity) {\n      setTimeout(function() {\n        Utils.updateOpacity(that.background, that.data.backgroundOpacity);\n      }, 0);\n    }*/\n    this.background.setAttribute('width', this.data.width);\n    //this.background.setAttribute('position', this.data.width/2+' 0 0');\n    this.background.setAttribute('position', '0 -0.09 0.001');\n    this.text.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\n    this.placeholder.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\n  },\n  updateCursor: function() {\n    this.cursor.setAttribute('width', this.data.cursorWidth)\n    this.cursor.setAttribute('height', this.data.cursorHeight)\n    this.cursor.setAttribute('color', this.data.cursorColor);\n  },\n  update: function () {\n    let that = this;\n    setTimeout(function() {\n    //  Utils.updateOpacity(that.el, that.data.opacity);\n    }, 0)\n\n    this.updateCursor();\n    this.updateText();\n  }\n});\n\nAFRAME.registerPrimitive('a-input', {\n  defaultComponents: {\n    input: {}\n  },\n  mappings: {\n    value: 'input.value',\n    name: 'input.name',\n    disabled: 'input.disabled',\n    color: 'input.color',\n    align: 'input.align',\n    font: 'input.font',\n    'letter-spacing': 'input.letterSpacing',\n    'line-height': 'input.lineHeight',\n    'opacity': 'input.opacity',\n    'side': 'input.side',\n    'tab-size': 'input.tabSize',\n    placeholder: 'input.placeholder',\n    'placeholder-color': 'input.placeholderColor',\n    'max-length': 'input.maxLength',\n    type: 'input.type',\n    width: 'input.width',\n    'cursor-width': \"input.cursorWidth\",\n    'cursor-height': \"input.cursorHeight\",\n    'cursor-color': \"input.cursorColor\",\n    'background-color': 'input.backgroundColor',\n    'background-opacity': 'input.backgroundOpacity'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/input/index.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('switch', {\n  schema: {\n    name: { type: \"string\", default: \"\" },\n    enabled: { type: 'boolean', default: false },\n    disabled: { type: 'boolean', default: false },\n    fillColor: { type: \"color\", default: \"#bababa\" },\n    knobColor: { type: \"color\", default: \"#f5f5f5\" },\n    fillColorEnabled: { type: \"color\", default: \"#80a8ff\" },\n    knobColorEnabled: { type: \"color\", default: \"#4076fd\" },\n    fillColorDisabled: { type: \"color\", default: \"#939393\" },\n    knobColorDisabled: { type: \"color\", default: \"#a2a2a2\" }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    SFX.init(this.el);\n\n    // FILL\n    this.el.fill = document.createElement('a-rounded');\n    this.el.fill.setAttribute('width', 0.36)\n    this.el.fill.setAttribute('height', 0.16)\n    this.el.fill.setAttribute('radius', 0.08)\n    this.el.fill.setAttribute('side', 'double')\n    this.el.fill.setAttribute('position', '0 0 0.01')\n    this.el.appendChild(this.el.fill);\n\n    // KNOB\n    this.el.knob = document.createElement('a-circle');\n    this.el.knob.setAttribute('position', '0.06 0.08 0.02')\n    this.el.knob.setAttribute('radius', 0.12)\n    this.el.knob.setAttribute('side', 'double')\n    this.el.appendChild(this.el.knob);\n\n    // SHADOW\n    this.el.shadow_el = document.createElement('a-image');\n    this.el.shadow_el.setAttribute('width', 0.24*1.25);\n    this.el.shadow_el.setAttribute('height', 0.24*1.25);\n    this.el.shadow_el.setAttribute('position', '0 0 -0.001');\n    this.el.shadow_el.setAttribute('src', '#aframeSwitchShadow');\n    this.el.knob.appendChild(this.el.shadow_el);\n\n    this.el.addEventListener('click', function() {\n      if (this.components.switch.data.disabled) { return; }\n      this.setAttribute('enabled', !this.components.switch.data.enabled );\n      Event.emit(this, 'change', this.components.switch.data.enabled);\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.switch.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      SFX.click(this);\n    });\n\n    Object.defineProperty(this.el, 'enabled', {\n      get: function() { return this.getAttribute('enabled'); },\n      set: function(value) { this.setAttribute('enabled', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  on: function() {\n    this.el.fill.setAttribute('color', this.data.fillColorEnabled)\n    this.el.knob.setAttribute('position', '0.32 0.08 0.02');\n    this.el.knob.setAttribute('color', this.data.knobColorEnabled)\n  },\n  off: function() {\n    this.el.fill.setAttribute('color', this.data.fillColor)\n    this.el.knob.setAttribute('position', '0.06 0.08 0.02');\n    this.el.knob.setAttribute('color', this.data.knobColor)\n  },\n  disable: function() {\n    this.el.fill.setAttribute('color', this.data.fillColorDisabled)\n    this.el.knob.setAttribute('color', this.data.knobColorDisabled)\n  },\n  update: function () {\n    if (this.data.enabled) {\n      this.on();\n    } else {\n      this.off();\n    }\n    if (this.data.disabled) {\n      this.disable();\n    }\n  }\n});\n\nAFRAME.registerPrimitive('a-switch', {\n  defaultComponents: {\n    switch: {}\n  },\n  mappings: {\n    name: 'switch.name',\n    enabled: 'switch.enabled',\n    disabled: 'switch.disabled',\n    'fill-color': 'switch.fillColor',\n    'knob-color': 'switch.knobColor',\n    'fill-color-enabled': 'switch.fillColorEnabled',\n    'knob-color-enabled': 'switch.knobColorEnabled',\n    'fill-color-disabled': 'switch.fillColorDisabled',\n    'knob-color-disabled': 'switch.knobColorDisabled'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/index.js","module.exports = [\n  { type: 'img', id: 'aframeSwitchShadow', src: `${AFRAME.ASSETS_PATH}/images/SwitchShadow.png`},\n  { type: 'audio', id: 'aframeSwitchClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeSwitchClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeSwitchClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeSwitchClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeSwitchClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeSwitchClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeSwitchClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeSwitchClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\n\nAFRAME.registerComponent('form', {\n  schema: {},\n  init: function () {},\n});\n\nAFRAME.registerPrimitive('a-form', {\n  defaultComponents: {\n    form: {}\n  },\n  mappings: {}\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/index.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('radio', {\n  schema: {\n    checked: { type: 'boolean', default: false },\n    disabled: { type: 'boolean', default: false },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"\" },\n    label: { type: \"string\", default: \"\" },\n    radioColor: { type: \"color\", default: \"#757575\"},\n    radioColorChecked: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#757575\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    SFX.init(this.el);\n\n    // HITBOX\n    this.hitbox = document.createElement('a-plane');\n    this.hitbox.setAttribute('height', 0.2);\n    this.hitbox.setAttribute('opacity', 0);\n    this.hitbox.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement('a-ring');\n    this.outline.setAttribute('radius-outer', 0.1)\n    this.outline.setAttribute('radius-inner', 0.078);\n    this.outline.setAttribute('position', '0.1 0 0.002');\n    this.el.appendChild(this.outline);\n\n    // CIRCLE\n    this.circle = document.createElement('a-circle');\n    this.circle.setAttribute('radius', 0.05)\n    this.circle.setAttribute('position', '0.1 0 0.002');\n    this.el.appendChild(this.circle);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function() {\n      if (this.components.radio.data.disabled) { return; }\n      this.setAttribute('checked', true);\n      that.onClick();\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.radio.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      SFX.click(this);\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function(noemit) {\n    if (this.data.name) {\n      let nearestForm = this.el.closest(\"a-form\");\n      if (nearestForm) {\n        let didCheck = false;\n        let children = Array.from(nearestForm.querySelectorAll(`[name=${this.data.name}]`));\n        children.reverse();\n        for (let child of children) {\n          // Radio + not disabled\n          if (child.components.radio ) {\n            // Currently checked\n            if (child === this.el && child.hasAttribute('checked')) {\n              didCheck = true;\n              child.components.radio.check();\n              if (!noemit) { Event.emit(child, 'change', true); }\n            } else {\n              if (!didCheck && !this.data.checked && child.hasAttribute('checked')) {\n                didCheck = true;\n                child.components.radio.check();\n              } else {\n                child.components.radio.uncheck();\n              }\n            }\n          }\n        }\n        if (!didCheck && this.el.hasAttribute('checked')) {\n          this.check();\n          if (!noemit) { Event.emit(this.el, 'change', true); }\n        }\n      }\n    }\n  },\n  check: function() {\n    this.outline.setAttribute('color', this.data.radioColorChecked);\n    this.circle.setAttribute('color', this.data.radioColorChecked);\n    this.circle.setAttribute('visible', true);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  uncheck: function() {\n    this.outline.setAttribute('color', this.data.radioColor);\n    this.circle.setAttribute('visible', false);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  disabled: function() {\n    this.outline.setAttribute('color', this.data.radioColor);\n    this.circle.setAttribute('color', this.data.radioColor);\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute('width', this.data.width)\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.001');\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10*(this.data.width+0.2),\n      width: this.data.width,\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.002');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function() {\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        let timer = setInterval(function() {\n          if (that.outline.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 0.4);\n            Utils.updateOpacity(that.circle, 0.4);\n            Utils.updateOpacity(that.label, 0.4);\n          }\n        }, 10)\n      } else {\n        let timer = setInterval(function() {\n          if (that.outline.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 1);\n            Utils.updateOpacity(that.circle, 1);\n            Utils.updateOpacity(that.label, 1);\n          }\n        }, 10)\n      }\n    }, 0);\n  }\n});\n\nAFRAME.registerPrimitive('a-radio', {\n  defaultComponents: {\n    radio: {}\n  },\n  mappings: {\n    checked: 'radio.checked',\n    disabled: 'radio.disabled',\n    name: 'radio.name',\n    value: 'radio.value',\n    label: 'radio.label',\n    'radio-color': 'radio.radioColor',\n    'radio-color-checked': 'radio.radioColorChecked',\n    color: 'radio.color',\n    align: 'radio.align',\n    font: 'radio.font',\n    'letter-spacing': 'radio.letterSpacing',\n    'line-height': 'radio.lineHeight',\n    'opacity': 'radio.opacity',\n    width: 'radio.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/index.js","module.exports = [\n  { type: 'audio', id: 'aframeRadioClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeRadioClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeRadioClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeRadioClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeRadioClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeRadioClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeRadioClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeRadioClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('checkbox', {\n  schema: {\n    checked: { type: 'boolean', default: false },\n    disabled: { type: 'boolean', default: false },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"\" },\n    label: { type: \"string\", default: \"\" },\n    checkboxColor: { type: \"color\", default: \"#757575\"},\n    checkboxColorChecked: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#757575\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    SFX.init(this.el);\n\n    // HITBOX\n    this.hitbox = document.createElement('a-plane');\n    this.hitbox.setAttribute('height', 0.2);\n    this.hitbox.setAttribute('opacity', 0);\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement('a-rounded');\n    this.outline.setAttribute('width', 0.2);\n    this.outline.setAttribute('height', 0.2);\n    this.outline.setAttribute('radius', 0.02);\n    this.outline.setAttribute('position', `0 -${0.2/2} 0.01`);\n    this.el.appendChild(this.outline);\n\n    // INSIDE\n    this.inside = document.createElement('a-rounded');\n    this.inside.setAttribute('width', 0.156);\n    this.inside.setAttribute('height', 0.156);\n    this.inside.setAttribute('radius', 0.01);\n    this.inside.setAttribute('color', \"#EEE\");\n    this.inside.setAttribute('position', `${0.156/8} -${0.156/2} 0.02`);\n    this.el.appendChild(this.inside);\n\n    // CHECKMARK\n    this.checkmark = document.createElement('a-image');\n    this.checkmark.setAttribute('width', 0.16);\n    this.checkmark.setAttribute('height', 0.16);\n    this.checkmark.setAttribute('src', \"#aframeCheckboxMark\");\n    this.checkmark.setAttribute('position', '0.1 0 0.03');\n    this.el.appendChild(this.checkmark);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function() {\n      if (this.components.checkbox.data.disabled) { return; }\n      this.components.checkbox.data.checked = !this.components.checkbox.data.checked;\n      this.setAttribute('checked', this.components.checkbox.data.checked);\n      that.onClick();\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.checkbox.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      SFX.click(this);\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function(noemit) {\n    if (this.data.checked) {\n      this.check();\n    } else {\n      this.uncheck();\n    }\n    if (!noemit) { Event.emit(this.el, 'change', this.data.checked); }\n  },\n  check: function() {\n    this.outline.setAttribute('color', this.data.checkboxColorChecked);\n    this.inside.setAttribute('color', this.data.checkboxColorChecked);\n    this.checkmark.setAttribute('visible', true);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  uncheck: function() {\n    this.outline.setAttribute('color', this.data.checkboxColor);\n    this.inside.setAttribute('color', \"#EEE\");\n    this.checkmark.setAttribute('visible', false);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  disabled: function() {\n    this.outline.setAttribute('color', this.data.checkboxColor);\n    this.inside.setAttribute('color', this.data.checkboxColor);\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute('width', this.data.width)\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.01');\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10*(this.data.width+0.2),\n      width: this.data.width,\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.01');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function() {\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        let timer = setInterval(function() {\n          if (that.checkmark.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.checkmark, 0.4);\n            Utils.updateOpacity(that.label, 0.4);\n          }\n        }, 10)\n      } else {\n        let timer = setInterval(function() {\n          if (that.checkmark.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.checkmark, 1);\n            Utils.updateOpacity(that.label, 1);\n          }\n        }, 10)\n      }\n    }, 0);\n  }\n});\n\nAFRAME.registerPrimitive('a-checkbox', {\n  defaultComponents: {\n    checkbox: {}\n  },\n  mappings: {\n    checked: 'checkbox.checked',\n    disabled: 'checkbox.disabled',\n    name: 'checkbox.name',\n    value: 'checkbox.value',\n    label: 'checkbox.label',\n    'checkbox-color': 'checkbox.checkboxColor',\n    'checkbox-color-checked': 'checkbox.checkboxColorChecked',\n    color: 'checkbox.color',\n    align: 'checkbox.align',\n    font: 'checkbox.font',\n    'letter-spacing': 'checkbox.letterSpacing',\n    'line-height': 'checkbox.lineHeight',\n    'opacity': 'checkbox.opacity',\n    width: 'checkbox.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/index.js","module.exports = [\n  { type: 'img', id: 'aframeCheckboxMark', src: `${AFRAME.ASSETS_PATH}/images/CheckmarkIcon.png`},\n  { type: 'audio', id: 'aframeCheckboxClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeCheckboxClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeCheckboxClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeCheckboxClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeCheckboxClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('button', {\n  schema: {\n    disabled: { type: 'boolean', default: false },\n    type: { type: \"string\", default: \"raised\" },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"Button\" },\n    buttonColor: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#FFF\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    SFX.init(this.el);\n\n    this.wrapper = document.createElement('a-entity');\n    this.wrapper.setAttribute('position', '0 0 0.01')\n    this.el.appendChild(this.wrapper);\n\n    this.shadow = document.createElement('a-image');\n    this.shadow.setAttribute('height', 0.36*1.25);\n    this.shadow.setAttribute('src', '#aframeButtonShadow');\n    this.wrapper.appendChild(this.shadow);\n\n    // OUTLINE\n    this.outline = document.createElement('a-rounded');\n    this.outline.setAttribute('height', 0.36);\n    this.outline.setAttribute('radius', 0.03);\n    this.outline.setAttribute('position', `0 -${0.36/2} 0.01`);\n    this.wrapper.appendChild(this.outline);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.outline.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function() {\n      if (this.components.button && this.components.button.data.disabled) { return; }\n      that.onClick();\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.button && this.components.button.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      that.wrapper.setAttribute('position', `0 0 0.036`);\n      SFX.click(this);\n    });\n    this.el.addEventListener('mouseup', function() {\n      if (this.components.button && this.components.button.data.disabled) { return; }\n      that.wrapper.setAttribute('position', `0 0 0`);\n    });\n\n    this.el.getWidth = this.getWidth.bind(this);\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  getWidth: function() {\n    return this.__width;\n  },\n  update: function () {\n    var that = this;\n    this.outline.setAttribute('color', this.data.buttonColor);\n\n    let props = {\n      color: this.data.color,\n      align: 'center',\n      wrapCount: 10*this.data.width,\n      width: this.data.width,\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    if (this.data.type === \"flat\") {\n      props.color = this.data.buttonColor;\n    }\n\n    // TITLE\n    props.value = this.data.value.toUpperCase();\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.01');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, callback, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n        return setTimeout(function() {\n          getTextWidth(el, callback);\n        }, 10);\n       }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) {\n        return setTimeout(function() {\n          getTextWidth(el, callback);\n        }, 10);\n      }\n      v = v[v.length-1];\n      if (!v) { return callback(0); }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el, callback);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width ) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, callback, _widthFactor);\n        }\n      }\n      return callback(v);\n    }\n    setTimeout(function() {\n      if (that.data.value.length) {\n        getTextWidth(that.label, (width)=>{\n          that.label.setAttribute('position', `${width/2+0.28/2} ${0.36/2} 0.02`);//\n          width = width+0.28;\n          that.outline.setAttribute('width', width);\n          that.__width = width;\n          that.shadow.setAttribute('width', width*1.17);\n          that.shadow.setAttribute('position', width/2+' 0 0');\n          Event.emit(that.el, 'change:width', width)\n        });\n      }\n\n      if (that.data.disabled) {\n        that.shadow.setAttribute('visible', false);\n        let timer = setInterval(function() {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 0.4);\n          }\n        }, 10)\n      } else {\n        let timer = setInterval(function() {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 1);\n          }\n        }, 10)\n      }\n\n      if (that.data.type === \"flat\") {\n        that.shadow.setAttribute('visible', false);\n        let timer = setInterval(function() {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 0);\n            if (that.data.disabled) {\n              Utils.updateOpacity(that.label, 0.4);\n            }\n          }\n        }, 10)\n      }\n    }, 0);\n  }\n});\n\nAFRAME.registerPrimitive('a-button', {\n  defaultComponents: {\n    button: {}\n  },\n  mappings: {\n    disabled: 'button.disabled',\n    type: 'button.type',\n    name: 'button.name',\n    value: 'button.value',\n    'button-color': 'button.buttonColor',\n    color: 'button.color',\n    font: 'button.font',\n    'letter-spacing': 'button.letterSpacing',\n    'line-height': 'button.lineHeight',\n    'opacity': 'button.opacity',\n    'width': 'button.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/index.js","module.exports = [\n  { type: 'img', id: 'aframeButtonShadow', src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png`},\n  { type: 'audio', id: 'aframeButtonClick', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClick.mp3`},\n  { type: 'audio', id: 'aframeButtonClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeButtonClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/sfx.js"],"sourceRoot":""}